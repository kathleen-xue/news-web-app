{"version":3,"sources":["navbar.js","sharemodal.js","newscard.js","homepage.js","commentbox.js","detailedpage.js","bookmarkpage.js","searchpage.js","App.js","serviceWorker.js","index.js"],"names":["NavbarIdx","props","state","source","selectedPage","whichPage","checked","bookmark","bookmarkChecked","searchValue","searchDropdown","currentSearchValue","navbarExpanded","updateNewsSource","bind","updateWhichPage","styleLink","toggleBookmark","autosuggest","handleSubmitSearch","handleSubmitSearchClick","renderSearchPage","autosuggestArray","timeout","renderToggleNewsSources","toggleNavbarExpanded","prevProps","this","setState","console","log","json","input","arr","push","value","label","Array","i","suggestionGroups","searchSuggestions","length","query","displayText","ms","Promise","resolve","setTimeout","e","fetch","headers","response","keyCode","target","window","event","history","pg","className","includes","Set","has","type","onClick","Navbar","collapseOnSelect","expand","bg","variant","fixed","expanded","cacheOptions","defaultOptions","loadOptions","_","debounce","leading","placeholder","classNamePrefix","isSearchable","onChange","onKeyDown","Toggle","aria-controls","Collapse","id","Nav","Link","to","href","Component","withRouter","ShareModal","title","modalTitle","body","modalBody","url","show","key","key1","Modal","onHide","style","opacity","Header","closeButton","Title","Body","FacebookShareButton","hashtag","FacebookIcon","round","TwitterShareButton","hashtags","TwitterIcon","EmailShareButton","subject","EmailIcon","NewsCard","img","description","date","section","buttonName","appPath","reactAppUrl","modalShow","toggleShow","removeBookmark","removeBookmarkProps","Card","substr","Img","src","Button","HomePage","pageContent","isLoaded","populatePage","updatePageContent","page","imgArr","multimedia","imgURL","j","width","reactAppPath","uri","substring","abstract","published_date","buttonName1","sectionId","imgArr1","blocks","main","elements","assets","imgArrLen1","imgURL1","file","pathId","webTitle","bodyTextSummary","webPublicationDate","webUrl","color","CommentBox","removeCommentBox","commentBox","createBoxUrl","boxId","pageLocation","search","hash","DetailedPage","articlePath","match","params","articleData","cardLengthClass","descriptionLengthClass","button","bookmarkStatus","host","toggleArticleLength","endpoint","then","res","result","localStorage","data","headline","toast","setItem","JSON","stringify","removeItem","dateOptions","year","month","day","Date","parse","bodyHtml","toLocaleDateString","OverlayTrigger","placement","overlay","Tooltip","size","hideProgressBar","autoClose","animation","position","alt","dangerouslySetInnerHTML","__html","pub_date","web_url","nytSections","guardianSections","BookmarkPage","ls","cards","cardIds","renderBookmarkCards","updateLocalStorage","getItem","splice","section_name","toLowerCase","SearchPage","nytData","guardianData","renderSearchCards","nyt","guardian","news_desk","media","dKey","App","apiHost","routes","renderPage","populateArticleUrls","getPageContentForComponent","validateSwitchedPages","updateNonHomePage","results","newSource","wPage","pages","exact","path","render","ans","Boolean","location","hostname","ReactDOM","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","error","message"],"mappings":"qVA+BA,IACMA,E,YACL,WAAYC,GAAQ,IAAD,8BAClB,4CAAMA,KACDC,MAAQ,CACZC,OAAQ,EAAKF,MAAME,OACnBC,aAAc,EAAKH,MAAMI,UACzBC,QAA+B,aAAtB,EAAKL,MAAME,OACpBI,SAAmC,aAAzB,EAAKN,MAAMI,UAA2B,kBAAC,IAAD,MAAgB,kBAAC,IAAD,MAChEG,gBAA0C,aAAzB,EAAKP,MAAMI,UAC5BI,YAAa,KACbC,eAAgB,GAChBC,mBAAoB,GACpBC,gBAAgB,GAEjB,EAAKC,iBAAmB,EAAKA,iBAAiBC,KAAtB,gBACxB,EAAKC,gBAAkB,EAAKA,gBAAgBD,KAArB,gBACvB,EAAKE,UAAY,EAAKA,UAAUF,KAAf,gBACjB,EAAKG,eAAiB,EAAKA,eAAeH,KAApB,gBACtB,EAAKI,YAAc,EAAKA,YAAYJ,KAAjB,gBACnB,EAAKK,mBAAqB,EAAKA,mBAAmBL,KAAxB,gBAC1B,EAAKM,wBAA0B,EAAKA,wBAAwBN,KAA7B,gBAC/B,EAAKO,iBAAmB,EAAKA,iBAAiBP,KAAtB,gBACxB,EAAKQ,iBAAmB,EAAKA,iBAAiBR,KAAtB,gBACxB,EAAKS,QAAU,EAAKA,QAAQT,KAAb,gBACf,EAAKU,wBAA0B,EAAKA,wBAAwBV,KAA7B,gBAC/B,EAAKW,qBAAuB,EAAKA,qBAAqBX,KAA1B,gBAxBV,E,gFA2BAY,GACfA,EAAUvB,SAAWwB,KAAK1B,MAAME,QAClCwB,KAAKC,SAAS,CACbzB,OAAQwB,KAAK1B,MAAME,OACnBC,aAAcuB,KAAK1B,MAAMI,YAGxBqB,EAAUrB,YAAcsB,KAAK1B,MAAMI,WACrCsB,KAAKC,SAAS,CACbxB,aAAcuB,KAAK1B,MAAMI,c,0CAM3BwB,QAAQC,IAAI,QAAQH,KAAKzB,MAAMO,e,wCAIG,IAA/BkB,KAAKzB,MAAMM,gBACbmB,KAAKC,SAAS,CACbrB,SAAU,kBAAC,IAAD,MACVC,iBAAiB,EACjBJ,aAAc,WACdQ,gBAAgB,IAIjBe,KAAKC,SAAS,CACbrB,SAAU,kBAAC,IAAD,MACVC,iBAAiB,EACjBI,gBAAgB,M,uCAKFmB,EAAMC,GACtB,IAAIC,EAAM,GAEV,GADAA,EAAIC,KAAK,CAACC,MAAOH,EAAOI,MAAOJ,IAC5BD,aAAgBM,MAClB,OAAOJ,EAER,IAAI,IAAIK,EAAI,EAAGA,EAAIP,EAAKQ,iBAAiB,GAAGC,kBAAkBC,OAAQH,IACrEL,EAAIC,KAAK,CAACC,MAAOJ,EAAKQ,iBAAiB,GAAGC,kBAAkBF,GAAGI,MAAON,MAAOL,EAAKQ,iBAAiB,GAAGC,kBAAkBF,GAAGK,cAE5H,OAAOV,I,6CAIPN,KAAKC,SAAS,CACbhB,gBAAiBe,KAAKzB,MAAMU,mB,8BAItBgC,GACJ,OAAO,IAAIC,SAAQ,SAAAC,GAAO,OAAIC,WAAWD,EAASF,Q,2EAGpCI,G,kFACjBnB,QAAQC,IAAI,cAAekB,G,SACrBrB,KAAKC,SAAS,CACnBjB,mBAAoB,CAAC,CAACwB,MAAOa,EAAGZ,MAAOY,IACvCvC,YAAa,CAAC0B,MAAOa,EAAGZ,MAAOY,K,cAE5Bf,EAAMN,KAAKL,iBAAiB,GAAI0B,G,SAC9BrB,KAAKJ,QAAQ,K,uBAEb0B,MAAM,+DAAiED,EAC7E,CACCE,QAAS,CAAC,4BAlGQ,sC,cA+FbC,E,iBAKaA,EAASpB,O,eAAtBA,E,iBACMJ,KAAKL,iBAAiBS,EAAMiB,G,eAAxCf,E,yBACOA,G,+IAiBS9B,GAChBwB,KAAKC,SAAS,CACbtB,QAAoB,aAAXH,EACTS,gBAAgB,IAEjBe,KAAK1B,MAAMY,iBAAiBV,K,yCAGV6C,GACF,IAAbA,EAAEI,UACJvB,QAAQC,IAAIkB,EAAEK,OAAOlB,OACrBN,QAAQC,IAAI,oBAAqBkB,GACjCrB,KAAKN,iBAAiB2B,EAAEK,OAAOlB,OAC/BR,KAAKC,SAAS,CACbnB,YAAa,CAAC0B,MAAOa,EAAEK,OAAOlB,MAAOC,MAAOY,EAAEK,OAAOlB,Y,8CAKhCA,GACfmB,OAAOC,MACf1B,QAAQC,IAAI,qBAAsBK,EAAMA,OACxCR,KAAKN,iBAAiBc,EAAMA,OAC5BR,KAAKC,SAAS,CACbnB,YAAa,CAAC0B,MAAOA,EAAMA,MAAOC,MAAOD,EAAMA,W,uCAKhCA,GAChBR,KAAK1B,MAAMuD,QAAQtB,KAAK,WAAaC,K,sCAItBa,EAAGS,GAClB5B,QAAQC,IAAI2B,GACZ9B,KAAK1B,MAAMc,gBAAgB0C,GAC3B9B,KAAKC,SAAS,CACbhB,gBAAgB,IAEP,WAAP6C,IACF5B,QAAQC,IAAI,0BACZH,KAAKC,SAAS,CACbnB,YAAa,U,gCAKNiD,GACT,OAAGA,EAAUC,SAAShC,KAAK1B,MAAMI,WACzB,cAGA,kB,gDAIkB,IAAD,OAEzB,OADY,IAAIuD,IAAI,CAAC,QAAS,SAAU,YAAa,YAAa,cAAe,UAAW,WACnFC,IAAIlC,KAAKzB,MAAME,cAEtB,yBAAKsD,UAAU,aACf,yBAAKA,UAAU,uBACX,uBAAGA,UAAU,mBAAb,YAEA,2BAAOA,UAAU,gBAChB,2BAAOI,KAAK,WAAWC,QAAS,kBAAM,EAAKlD,iBAAiB,EAAKX,MAAMC,SAASgC,MAAOR,KAAKzB,MAAMC,OAAQG,QAASqB,KAAKzB,MAAMI,UAC9H,0BAAMoD,UAAU,kBAElB,yBAAKA,UAAU,uBACd,uBAAGA,UAAU,mBAAb,mBAML,I,+BAIQ,IAAD,OACJjD,EAAckB,KAAKzB,MAAMO,YAC7BoB,QAAQC,IAAIrB,GAFJ,MAG2DkB,KAAKzB,MAAzCS,GAHvB,EAGDR,OAHC,EAGOO,eAHP,EAGuBC,oBAE3BJ,GALI,EAG2CH,aAEpC,kBAAC,IAAD,OAiDd,MAhD2B,aAAzBuB,KAAK1B,MAAMI,YACbE,EAAW,kBAAC,IAAD,OAgDV,kBAACyD,EAAA,EAAD,CAAQC,kBAAgB,EAACC,OAAO,KAAKR,UAAU,kBAAkBS,GAAG,OAAOC,QAAQ,OAAOC,MAAM,MAAMC,SAAU3C,KAAKzB,MAAMU,gBAC1H,kBAAC,IAAD,CACO2D,cAAY,EACZC,eAAgB7D,EAChB8D,YAAaC,IAAEC,SAAShD,KAAKT,YAAa,KAAM,CAAC0D,SAAS,IAC1DC,YAAY,mBACZC,gBAAgB,eAChBpB,UAAU,eACVqB,cAAc,EACdC,SAAUrD,KAAKP,wBACf6D,UAAWtD,KAAKR,mBAChBgB,MAAOR,KAAKzB,MAAMO,cAEpB,kBAACuD,EAAA,EAAOkB,OAAR,CAAeC,gBAAc,wBAAwBpB,QAASpC,KAAKF,uBACnE,kBAACuC,EAAA,EAAOoB,SAAR,CAAiBC,GAAG,yBACpB,kBAACC,EAAA,EAAD,CAAK5B,UAAU,WACZ,kBAAC4B,EAAA,EAAIC,KAAL,CAAUxB,QAAS,SAACf,GAAD,OAAO,EAAKjC,gBAAgBiC,EAAG,UAAUU,UAAW/B,KAAKX,UAAU,UAAU,kBAAC,IAAD,CAAMwE,GAAG,SAAT,SAClG,kBAACF,EAAA,EAAIC,KAAL,CAAUxB,QAAS,SAACf,GAAD,OAAO,EAAKjC,gBAAgBiC,EAAG,WAAWU,UAAW/B,KAAKX,UAAU,WAAW,kBAAC,IAAD,CAAMwE,GAAG,UAAT,UAClG,kBAACF,EAAA,EAAIC,KAAL,CAAUxB,QAAS,SAACf,GAAD,OAAO,EAAKjC,gBAAgBiC,EAAG,cAAcU,UAAW/B,KAAKX,UAAU,cAAc,kBAAC,IAAD,CAAMwE,GAAG,aAAT,aACxG,kBAACF,EAAA,EAAIC,KAAL,CAAUxB,QAAS,SAACf,GAAD,OAAO,EAAKjC,gBAAgBiC,EAAG,cAAcU,UAAW/B,KAAKX,UAAU,cAAc,kBAAC,IAAD,CAAMwE,GAAG,aAAT,aACxG,kBAACF,EAAA,EAAIC,KAAL,CAAUxB,QAAS,SAACf,GAAD,OAAO,EAAKjC,gBAAgBiC,EAAG,gBAAgBU,UAAW/B,KAAKX,UAAU,gBAAgB,kBAAC,IAAD,CAAMwE,GAAG,eAAT,eAC5G,kBAACF,EAAA,EAAIC,KAAL,CAAUxB,QAAS,SAACf,GAAD,OAAO,EAAKjC,gBAAgBiC,EAAG,YAAYU,UAAW/B,KAAKX,UAAU,YAAY,kBAAC,IAAD,CAAMwE,GAAG,WAAT,YAErG,yBAAK9B,UAAU,kBAAiB,uBAAG+B,KAAK,cAAa,4BAAQ1B,QAAS,kBAAM,EAAK9C,mBAAmBV,KACrGoB,KAAKH,gC,GArRUkE,aA6RTC,cAAW3F,G,+FC/QX4F,E,YAzCd,WAAY3F,GAAQ,IAAD,8BAClB,4CAAMA,KACDC,MAAQ,CACZ2F,MAAO,EAAK5F,MAAM6F,WAClBC,KAAM,EAAK9F,MAAM+F,UACjBC,IAAK,EAAKhG,MAAMgG,IAChBC,KAAM,EAAKjG,MAAMiG,KACjBC,IAAK,EAAKlG,MAAMmG,MAPC,E,gFAYA1E,GACfA,EAAUwE,OAASvE,KAAK1B,MAAMiG,MAChCvE,KAAKC,SAAS,CACbsE,KAAMvE,KAAK1B,MAAMiG,S,+BAKV,IAAD,EACwBvE,KAAKzB,MAA9B2F,EADC,EACDA,MAAOI,EADN,EACMA,IAAKC,EADX,EACWA,KAAMC,EADjB,EACiBA,IACzB,OACC,kBAACE,EAAA,EAAD,CAAOF,IAAKA,EAAKD,KAAMA,EAAMI,OAAQ3E,KAAK1B,MAAMqG,OAAQC,MAAO,CAACC,QAAQ,IACrE,kBAACH,EAAA,EAAMI,OAAP,CAAcC,aAAW,GACvB,kBAACL,EAAA,EAAMM,MAAP,KAAcd,IAGhB,kBAACQ,EAAA,EAAMO,KAAP,KACE,wCACA,wBAAIlD,UAAU,eACb,4BAAI,kBAACmD,EAAA,EAAD,CAAqBZ,IAAKA,EAAKa,QAAQ,qBAAoB,kBAACC,EAAA,EAAD,CAAcC,OAAO,MACpF,4BAAI,kBAACC,EAAA,EAAD,CAAoBhB,IAAKA,EAAKiB,SAAU,CAAC,qBAAqB,kBAACC,EAAA,EAAD,CAAaH,OAAO,MACtF,4BAAI,kBAACI,EAAA,EAAD,CAAkBnB,IAAKA,EAAKoB,QAAQ,qBAAoB,kBAACC,EAAA,EAAD,CAAWN,OAAO,a,GAlC9DtB,a,QC0IV6B,E,YArId,WAAYtH,GAAQ,IAAD,8BAClB,4CAAMA,KACDC,MAAQ,CACZiG,IAAK,EAAKlG,MAAMmG,KAChBoB,IAAK,EAAKvH,MAAMuH,IAChB3B,MAAO,EAAK5F,MAAM4F,MAClB4B,YAAa,EAAKxH,MAAMwH,YACxBC,KAAM,EAAKzH,MAAMyH,KACjBC,QAAS,EAAK1H,MAAM0H,QACpBC,WAAY,EAAK3H,MAAM2H,WACvBzH,OAAQ,EAAKF,MAAME,OACnB8F,IAAK,EAAKhG,MAAMgG,IAChB4B,QAAS,EAAK5H,MAAM6H,YACpBC,WAAW,EACXrE,UAAW,EAAKzD,MAAMyD,UAAY,EAAKzD,MAAMyD,UAAY,IAE1D,EAAKsE,WAAa,EAAKA,WAAWlH,KAAhB,gBAClB,EAAKmH,eAAiB,EAAKA,eAAenH,KAApB,gBAjBJ,E,0EAqBlB,IAAIoF,EAAOvE,KAAKzB,MAAM6H,UACtBpG,KAAKC,SAAS,CACbmG,WAAY7B,M,qCAICb,GACd1D,KAAK1B,MAAMiI,oBAAoB7C,K,+BAGtB,IAAD,SACsG1D,KAAKzB,MAA5GiG,EADC,EACDA,IAAKqB,EADJ,EACIA,IAAK3B,EADT,EACSA,MAAO4B,EADhB,EACgBA,YAAaC,EAD7B,EAC6BA,KAAMC,EADnC,EACmCA,QAASC,EAD5C,EAC4CA,WAAY3B,EADxD,EACwDA,IAAK8B,EAD7D,EAC6DA,UAAWF,EADxE,EACwEA,QAASnE,EADjF,EACiFA,UADjF,EAC4FvD,OACpG,MAAiB,iBAAduD,EAGD,kBAACyE,EAAA,EAAD,CAAMhC,IAAKA,EAAKzC,UAAWA,GAC1B,kBAACyE,EAAA,EAAKxB,MAAN,KACC,yBAAKjD,UAAU,iBACf,kBAAC,IAAD,CAAM8B,GAAIqC,GAAUhC,IAEpB,yBAAKnC,UAAU,oBACd,uBAAGK,QAASpC,KAAKqG,YAAY,kBAAC,IAAD,OAC7B,kBAAC,EAAD,CAAY5B,KAAMD,EAAM,SAAUD,KAAM6B,EAAWzB,OAAQ3E,KAAKqG,WAAY/B,IAAKA,EAAKH,WAAYD,IAClG,uBAAGnC,UAAU,YAAYK,QAAS,kBAAM,EAAKkE,eAAeJ,EAAQO,OAAO,MAAK,kBAAC,IAAD,CAAW1E,UAAU,iBAIvG,kBAAC,IAAD,CAAM8B,GAAIqC,GAAS,kBAACM,EAAA,EAAKE,IAAN,CAAUC,IAAKd,KAClC,kBAACW,EAAA,EAAKvB,KAAN,KACC,kBAAC,IAAD,CAAMpB,GAAIqC,GACV,yBAAKnE,UAAU,UACf,yBAAKA,UAAU,YACb,kBAAC,IAAD,CAAM8B,GAAIqC,GACRH,IAGJ,yBAAKhE,UAAU,eACd,kBAAC6E,EAAA,EAAD,CAAQ7E,UAAWkE,EAAW,IAAKD,EAAQ,IAC3C,kBAACY,EAAA,EAAD,CAAQ7E,UAAWkE,EAAW,IAAKD,EAAQ,SAQ1B,qBAAdjE,EAEN,kBAACyE,EAAA,EAAD,CAAMhC,IAAKA,EAAKzC,UAAWA,GAC1B,kBAACyE,EAAA,EAAKxB,MAAN,KACC,yBAAKjD,UAAU,iBACf,kBAAC,IAAD,CAAM8B,GAAI,MAAQqC,GAAUhC,IAE5B,yBAAKnC,UAAU,oBACd,uBAAGK,QAASpC,KAAKqG,YAAY,kBAAC,IAAD,OAC7B,kBAAC,EAAD,CAAY5B,KAAMD,EAAM,SAAUD,KAAM6B,EAAWzB,OAAQ3E,KAAKqG,WAAY/B,IAAKA,EAAKH,WAAYD,MAIpG,kBAAC,IAAD,CAAML,GAAI,MAAQqC,GAAS,kBAACM,EAAA,EAAKE,IAAN,CAAUC,IAAKd,KAC1C,kBAACW,EAAA,EAAKvB,KAAN,KACC,kBAAC,IAAD,CAAMpB,GAAI,MAAQqC,GAClB,yBAAKnE,UAAU,UACf,yBAAKA,UAAU,YACb,kBAAC,IAAD,CAAM8B,GAAI,MAAQqC,GAChBH,IAGJ,yBAAKhE,UAAU,eACd,kBAAC6E,EAAA,EAAD,CAAQ7E,UAAWkE,GAAaD,QAUnC,kBAACQ,EAAA,EAAD,CAAMhC,IAAKA,EAAKzC,UAAWA,GAC1B,kBAAC,IAAD,CAAM8B,GAAIqC,GAAS,kBAACM,EAAA,EAAKE,IAAN,CAAUC,IAAKd,KAClC,kBAACW,EAAA,EAAKvB,KAAN,KACC,kBAACuB,EAAA,EAAKxB,MAAN,KACC,kBAAC,IAAD,CAAMnB,GAAIqC,GAAUhC,GACpB,uBAAG9B,QAASpC,KAAKqG,YAAY,kBAAC,IAAD,OAC7B,kBAAC,EAAD,CAAY5B,KAAMD,EAAM,SAAUD,KAAM6B,EAAWzB,OAAQ3E,KAAKqG,WAAY/B,IAAKA,EAAKH,WAAYD,KAEnG,kBAACsC,EAAA,EAAKvB,KAAN,KACC,kBAAC,IAAD,CAAMpB,GAAIqC,GACT,yBAAKnE,UAAU,mBACb+D,KAIJ,kBAAC,IAAD,CAAMjC,GAAIqC,GACV,yBAAKnE,UAAU,UACf,yBAAKA,UAAU,YACb,kBAAC,IAAD,CAAM8B,GAAIqC,GACRH,IAGJ,kBAACa,EAAA,EAAD,CAAQ7E,UAAWkE,GAAaD,W,GA3HfjC,aCqMR8C,E,YAtMd,WAAYvI,GAAQ,IAAD,8BAClB,4CAAMA,KACDC,MAAQ,CACZC,OAAQ,EAAKF,MAAME,OACnBsI,YAAa,EAAKxI,MAAMwI,YACxBpI,UAAW,EAAKJ,MAAMI,UACtBqI,SAAU,EAAKzI,MAAMyI,UAEtB,EAAKC,aAAe,EAAKA,aAAa7H,KAAlB,gBACpB,EAAK8H,kBAAoB,EAAKA,kBAAkB9H,KAAvB,gBACzB,EAAKoF,MAAO,EACZ,EAAK8B,WAAa,EAAKA,WAAWlH,KAAhB,gBAXA,E,iFAelBa,KAAKiH,sB,yCAGalH,GAAY,IAAD,OAC1BC,KAAK1B,MAAME,SAAWuB,EAAUvB,QAAUwB,KAAK1B,MAAMwI,cAAgB/G,EAAU+G,YACjF9G,KAAKC,SAAS,CACbzB,OAAQwB,KAAK1B,MAAME,OACnBsI,YAAa9G,KAAK1B,MAAMwI,YACxBC,SAAU/G,KAAK1B,MAAMyI,SACrBrI,UAAWsB,KAAK1B,MAAMI,YAIpBsB,KAAK1B,MAAMyI,WAAahH,EAAUgH,SACpC/G,KAAKC,SAAS,CACb8G,UAAU,IACR,WACF,EAAK9G,SAAS,CACbzB,OAAQ,EAAKF,MAAME,OACnBsI,YAAa,EAAKxI,MAAMwI,YACxBC,SAAU,EAAKzI,MAAMyI,SACrBrI,UAAW,EAAKJ,MAAMI,YACpB,kBAAM,EAAKsI,qBAIRhH,KAAK1B,MAAMI,YAAcqB,EAAUrB,WAC1CsB,KAAKC,SAAS,CACb8G,UAAU,IACR,WACF,EAAK9G,SAAS,CACbzB,OAAQ,EAAKF,MAAME,OACnBsI,YAAa,EAAKxI,MAAMwI,YACxBC,SAAU,EAAKzI,MAAMyI,SACrBrI,UAAW,EAAKJ,MAAMI,YACpB,kBAAM,EAAKsI,uB,0CAQjBhH,KAAK1B,MAAM2I,sB,mCAIXjH,KAAKC,SAAS,CACbmG,WAAW,M,qCAKZ,IAAIc,EAAO,GACPJ,EAAc9G,KAAK1B,MAAMwI,YAE7B,GADA5G,QAAQC,IAAI2G,GACa,QAAtB9G,KAAK1B,MAAME,OACb,IAAI,IAAImC,EAAI,EAAGA,EAAImG,EAAYhG,OAAQH,IAAK,CAE3C,IAAIsF,EAAa,eACa,UAA3Ba,EAAYnG,GAAGqF,SAAkD,aAA3Bc,EAAYnG,GAAGqF,SACzB,aAA3Bc,EAAYnG,GAAGqF,SAAqD,eAA3Bc,EAAYnG,GAAGqF,SAC7B,WAA3Bc,EAAYnG,GAAGqF,SAAmD,UAA3Bc,EAAYnG,GAAGqF,UACzDC,EAAaa,EAAYnG,GAAGqF,QAAU,WAEvC,IAAImB,EAASL,EAAYnG,GAAGyG,WACxBC,EAAS,qEACb,GAAc,OAAXF,EACF,IAAI,IAAIG,EAAI,EAAGA,EAAIH,EAAOrG,OAAQwG,IACjC,GAAGH,EAAOG,GAAGC,OAAS,IAAM,CAC3BF,EAASF,EAAOG,GAAGhD,IACnB,MAIH,IAAIkD,EAAe,IAAMV,EAAYnG,GAAG8G,IAAIC,UAAU,IAmBtDR,EAAK3G,KACJ,kBAAC,EAAD,CACCiE,IAAK7D,EACL8D,KAAM9D,EACNkF,IAAKwB,EACLnD,MAAO4C,EAAYnG,GAAGuD,MACtB4B,YAAagB,EAAYnG,GAAGgH,SAC5B5B,KAAMe,EAAYnG,GAAGiH,eAAeF,UAAU,EAAE,IAChD1B,QAASc,EAAYnG,GAAGqF,QACxBC,WAAYA,EACZzH,OAAQwB,KAAK1B,MAAME,OACnB8F,IAAKwC,EAAYnG,GAAG2D,IACpB6B,YAAaqB,UAOhB,IAAI,IAAI7G,EAAI,EAAGA,EAAImG,EAAYhG,OAAQH,IAAK,CAC3C,IAAIkH,EAAc,eACc,UAA7Bf,EAAYnG,GAAGmH,WAAsD,aAA7BhB,EAAYnG,GAAGmH,WACzB,aAA7BhB,EAAYnG,GAAGmH,WAAyD,eAA7BhB,EAAYnG,GAAGmH,WAC7B,WAA7BhB,EAAYnG,GAAGmH,WAAuD,UAA7BhB,EAAYnG,GAAGmH,YAC3DD,EAAcf,EAAYnG,GAAGmH,UAAY,WAE1C,IAAIC,EAAUjB,EAAYnG,GAAGqH,OAAOC,KAAOnB,EAAYnG,GAAGqH,OAAOC,KAAKC,SAAS,GAAGC,OAAS,GACvFC,EAAaL,EAAQjH,OACrBuH,EAAU,sFACXD,EAAa,IACfC,EAAUN,EAAQK,EAAW,GAAGE,MAE7Bd,EAAe,IAAMV,EAAYnG,GAAG4H,OAkBxCrB,EAAK3G,KACJ,kBAAC,EAAD,CACCiE,IAAK7D,EACL8D,KAAM9D,EACNkF,IAAKwC,EACLnE,MAAO4C,EAAYnG,GAAG6H,SACtB1C,YAAagB,EAAYnG,GAAGqH,OAAO5D,KAAK,GAAGqE,gBAC3C1C,KAAMe,EAAYnG,GAAG+H,mBAAmBhB,UAAU,EAAE,IACpD1B,QAASc,EAAYnG,GAAGmH,UACxB7B,WAAY4B,EACZrJ,OAAQwB,KAAK1B,MAAME,OACnB8F,IAAKwC,EAAYnG,GAAGgI,OACpBxC,YAAaqB,KAKjB,OAAON,I,+BAKP,IAFS,IAAD,EACwBlH,KAAKzB,MAA9BuI,EADC,EACDA,YAAaC,EADZ,EACYA,UACb/G,KAAK1B,MAAMyI,UAA2B,MAAfD,GAAuB9G,KAAK1B,MAAMyI,WAAaA,GAE5E,OACC,6BACA,kBAAC,IAAD,CAAc6B,MAAM,YACpB,yBAAK7G,UAAU,WAAf,YAIF,OACC,yBAAKA,UAAU,YACb/B,KAAKgH,oB,GAjMajD,a,yDCwBR8E,E,YA1Bd,WAAYvK,GAAQ,IAAD,8BAClB,4CAAMA,KACDC,MAAQ,CACZmF,GAAI,EAAKpF,MAAMoF,IAHE,E,oFAOlB1D,KAAK8I,qB,0CAGL,IAAIpF,EAAK1D,KAAKzB,MAAMmF,GACpBxD,QAAQC,IAAIuD,GACZ1D,KAAK8I,iBAAmBC,IAAW,wBAAyB,CAC3DC,aAD2D,SAC9CC,EAAOC,GAIb,OAHNhJ,QAAQC,IAAI8I,GACZC,EAAaC,OAASzF,EAChBwF,EAAaE,KAAOH,EACbvF,O,+BAKf,OAAO,yBAAK3B,UAAU,aAAa2B,GAAI1D,KAAKzB,MAAMmF,S,GAvB3BK,aCmTVsF,E,YA/Rd,WAAY/K,GAAQ,IAAD,8BAClB,4CAAMA,KACDC,MAAQ,CACZ+K,YAAa,EAAKhL,MAAMiL,MAAMC,OAAOjB,OACrCxB,UAAU,EACV0C,YAAa,GACbC,gBAAiB,iBACjBC,uBAAwB,iCACxBC,OAAQ,kBAAC,IAAD,MACRhL,SAAU,kBAAC,IAAD,MACViL,gBAAgB,EAChBC,KAAM,EAAKxL,MAAMwL,MAGlB,EAAK9C,aAAe,EAAKA,aAAa7H,KAAlB,gBACpB,EAAK4K,oBAAsB,EAAKA,oBAAoB5K,KAAzB,gBAC3B,EAAKG,eAAiB,EAAKA,eAAeH,KAApB,gBACtB,EAAKC,gBAAkB,EAAKA,gBAAgBD,KAArB,gBAjBL,E,iFAoBE,IAAD,OACnBa,KAAKZ,kBACL,IAAI4K,EAAWhK,KAAKzB,MAAMuL,KAAO,0BAA4B9J,KAAKzB,MAAM+K,YACxEpJ,QAAQC,IAAI6J,GAEZ1I,MAAM0I,GACJC,MAAK,SAAAC,GAAG,OAAIA,EAAI9J,UAChB6J,MACA,SAACE,GACA,IAAI,IAAIxJ,EAAI,EAAGA,EAAIyJ,aAAatJ,OAAQH,IACpCyJ,aAAa5F,IAAI7D,KAAO,EAAKpC,MAAM+K,cACrCpJ,QAAQC,IAAIiK,aAAa5F,IAAI7D,IAC7B,EAAKV,SAAS,CACbrB,SAAU,kBAAC,IAAD,MACViL,gBAAgB,KAInB3J,QAAQC,IAAIgK,GACZ,EAAKlK,SAAS,CACb8G,UAAU,EACV0C,YAAaU,S,wCAQjBnK,KAAK1B,MAAMc,oB,4CAIuB,mBAA/BY,KAAKzB,MAAMmL,gBACb1J,KAAKC,SAAS,CACbyJ,gBAAiB,YACjBC,uBAAwB,4BACxBC,OAAQ,kBAAC,IAAD,QACN,kBAAM1J,QAAQC,IAAI,2BAGrBH,KAAKC,SAAS,CACbyJ,gBAAiB,iBACjBC,uBAAwB,iCACxBC,OAAQ,kBAAC,IAAD,U,qCAKIS,EAAM7L,GACpB,IAAI0F,EAAmB,aAAX1F,EAAwB6L,EAAK7B,SAAW6B,EAAKC,SAASrC,MACjC,IAA9BjI,KAAKzB,MAAMsL,gBACb7J,KAAKC,SAAS,CACbrB,SAAU,kBAAC,IAAD,MACViL,gBAAgB,IACd,kBAAMU,YAAM,UAAYrG,MAC3BkG,aAAaI,QAAQxK,KAAKzB,MAAM+K,YAAamB,KAAKC,UAAU,CAAC,KAAQL,EAAM,OAAU7L,OAGrFwB,KAAKC,SAAS,CACbrB,SAAU,kBAAC,IAAD,MACViL,gBAAgB,IACd,kBAAMU,YAAM,YAAcrG,MAC7BkG,aAAaO,WAAW3K,KAAKzB,MAAM+K,gB,mCAIxBG,EAAajL,GAAS,IAAD,OAG7B0I,EAAO,GACPhD,EAAQ,GACR6B,EAAO,GACPoB,EAAS,GACTtB,EAAM,GACNC,EAAc,GACdxB,EAAM,GACNsG,EAAc,CAACC,KAAM,UAAWC,MAAO,OAAQC,IAAK,WACxD,GAAc,aAAXvM,EA6EF,OA1EA0F,EAAQuF,EAAYjB,SACpBzC,EAAO,IAAIiF,KAAKA,KAAKC,MAAMxB,EAAYf,qBACvCvB,EAASsC,EAAYzB,OAAOC,KAAOwB,EAAYzB,OAAOC,KAAKC,SAAS,GAAGC,OAAS,GAChFtC,EAAM,sFACNvB,EAAMmF,EAAYd,OAClBzI,QAAQC,IAAImE,GACT6C,EAAOrG,OAAS,IAClB+E,EAAMsB,EAAOA,EAAOrG,OAAS,GAAGwH,MAEjCxC,EAAc2D,EAAYzB,OAAO5D,KAAK,GAAG8G,SACzChE,EAAK3G,KAAK,kBAACiG,EAAA,EAAKxB,MAAN,CAAYR,IAAI,KAAKN,IAC/BgD,EAAK3G,KAAK,kBAACiG,EAAA,EAAKvB,KAAN,CAAWT,IAAI,KACrB,yBAAKzC,UAAU,sBACd,2BAAIgE,EAAKoF,mBAAmB,QAASP,IACrC,yBAAK7I,UAAU,eACd,kBAACqJ,EAAA,EAAD,CACO5G,IAAI,eACJ6G,UAAU,MACVC,QACE,kBAACC,EAAA,EAAD,CAAS7H,GAAG,eAAZ,UAKR,kBAAC+B,EAAA,EAAD,CAAkBnB,IAAKA,EAAKoB,QAAQ,qBAAoB,kBAACC,EAAA,EAAD,CAAW6F,KAAM,GAAInG,OAAO,MAErF,kBAAC+F,EAAA,EAAD,CACO5G,IAAI,iBACJ6G,UAAU,MACVC,QACE,kBAACC,EAAA,EAAD,CAAS7H,GAAG,eAAZ,YAKR,kBAAC4B,EAAA,EAAD,CAAoBhB,IAAKA,EAAKiB,SAAU,CAAC,qBAAqB,kBAACC,EAAA,EAAD,CAAagG,KAAM,GAAInG,OAAO,MAE7F,kBAAC+F,EAAA,EAAD,CACO5G,IAAI,YACJ6G,UAAU,MACVC,QACE,kBAACC,EAAA,EAAD,CAAS7H,GAAG,eAAZ,aAKR,kBAACwB,EAAA,EAAD,CAAqBZ,IAAKA,EAAKa,QAAQ,qBAAoB,kBAACC,EAAA,EAAD,CAAcoG,KAAM,GAAInG,OAAO,OAG5F,yBAAKtD,UAAU,YACd,kBAACqJ,EAAA,EAAD,CACO5G,IAAI,kBACJ6G,UAAU,MACVC,QACE,kBAACC,EAAA,EAAD,CAAS7H,GAAG,eAAZ,aAKR,4BAAQtB,QAAS,kBAAM,EAAK9C,eAAemK,EAAajL,KAAUwB,KAAKzB,MAAMK,WAE9E,kBAAC,IAAD,CAAgB6M,iBAAiB,EAAMC,UAAW,KAAMC,UAAU,OAAOC,SAAS,iBAGpF,yBAAK7J,UAAU,mBACd,yBAAKA,UAAU,cACd,yBAAK4E,IAAKd,EAAKgG,IAAI,MAEpB,yBAAK9J,UAAW/B,KAAKzB,MAAMoL,uBAC1BmC,wBAAyB,CAAEC,OAAQjG,KACpC,4BAAQ/D,UAAU,wBAAwBK,QAAS,kBAAM,EAAK2H,wBAAwB/J,KAAKzB,MAAMqL,WAI/F1C,EAIPhD,GADAuF,EAAcA,EAAY,IACNa,SAASrC,KAC7BlC,EAAO,IAAIiF,KAAKA,KAAKC,MAAMxB,EAAYuC,WACvC7E,EAASsC,EAAYrC,WACrBvB,EAAM,qEACN,IAAI,IAAIlF,EAAI,EAAGA,EAAIwG,EAAOrG,OAAQH,IACjC,GAAGwG,EAAOxG,GAAG4G,OAAS,IAAM,CAC3B1B,EAAM,uBAAyBsB,EAAOxG,GAAG2D,IACzC,MAqEF,OAlEAwB,EAAc2D,EAAY9B,SAC1BrD,EAAMmF,EAAYwC,QAClB/E,EAAK3G,KAAK,kBAACiG,EAAA,EAAKxB,MAAN,KAAad,IAEvBgD,EAAK3G,KAAK,kBAACiG,EAAA,EAAKvB,KAAN,KACN,yBAAKlD,UAAU,sBACd,2BAAIgE,EAAKoF,mBAAmB,QAASP,IACrC,yBAAK7I,UAAU,eACd,kBAACqJ,EAAA,EAAD,CACO5G,IAAI,eACJ6G,UAAU,MACVC,QACE,kBAACC,EAAA,EAAD,CAAS7H,GAAG,eAAZ,UAKR,kBAAC+B,EAAA,EAAD,CAAkBnB,IAAKA,EAAKoB,QAAQ,qBAAoB,kBAACC,EAAA,EAAD,CAAW6F,KAAM,GAAInG,OAAO,MAErF,kBAAC+F,EAAA,EAAD,CACO5G,IAAI,iBACJ6G,UAAU,MACVC,QACE,kBAACC,EAAA,EAAD,CAAS7H,GAAG,eAAZ,YAKR,kBAAC4B,EAAA,EAAD,CAAoBhB,IAAKA,EAAKiB,SAAU,CAAC,qBAAqB,kBAACC,EAAA,EAAD,CAAagG,KAAM,GAAInG,OAAO,MAE7F,kBAAC+F,EAAA,EAAD,CACO5G,IAAI,YACJ6G,UAAU,MACVC,QACE,kBAACC,EAAA,EAAD,CAAS7H,GAAG,eAAZ,aAKR,kBAACwB,EAAA,EAAD,CAAqBZ,IAAKA,EAAKa,QAAQ,qBAAoB,kBAACC,EAAA,EAAD,CAAcoG,KAAM,GAAInG,OAAO,OAG5F,yBAAKtD,UAAU,YACd,kBAACqJ,EAAA,EAAD,CACO5G,IAAI,kBACJ6G,UAAU,MACVC,QACE,kBAACC,EAAA,EAAD,CAAS7H,GAAG,eAAZ,aAKR,4BAAQtB,QAAS,kBAAM,EAAK9C,eAAemK,EAAajL,KAAUwB,KAAKzB,MAAMK,WAE9E,kBAAC,IAAD,CAAgB6M,iBAAiB,EAAMC,UAAW,KAAME,SAAS,aAAaD,UAAU,WAG1F,yBAAK5J,UAAU,mBACd,yBAAKA,UAAU,cACd,yBAAK4E,IAAKd,KAEX,yBAAK9D,UAAW/B,KAAKzB,MAAMoL,uBAC1BmC,wBAAyB,CAAEC,OAAQjG,QAGzC5F,QAAQC,IAAIsJ,GACLvC,I,+BAMR,MAAOlH,KAAKzB,MAAMwI,UACjB,OACC,6BACC,kBAAC,IAAD,CAAc6B,MAAM,YACpB,yBAAK7G,UAAU,WAAf,YALK,MAS4C/B,KAAKzB,MAAlD+K,EATC,EASDA,YAAaI,EATZ,EASYA,gBAChBW,EAVI,EAS6BZ,YAErCvJ,QAAQC,IAAIkK,GACZ,IAAI7L,EAAS6L,EAAK1B,OAAS,WAAa,MACxC,OACC,6BACA,yBAAK5G,UAAU,gBACd,kBAACyE,EAAA,EAAD,CAAMhC,IAAK8E,EAAavH,UAAW2H,GACjC1J,KAAKgH,aAAaqD,EAAM7L,IAE1B,kBAAC,EAAD,CAAYkF,GAAI1D,KAAKzB,MAAM+K,oB,GAxRJvF,aChBvBmI,EAAc,IAAIjK,IAAI,CAAC,QAAS,WAAY,WAAY,aAAc,WACtEkK,EAAmB,IAAIlK,IAAI,CAAC,QAAS,WAAY,WAAY,aAAc,UA2MhEmK,E,YAxMd,WAAY9N,GAAQ,IAAD,sBAClB,4CAAMA,IAEN,IADA,IAAI+N,EAAK,GACD1L,EAAI,EAAGA,EAAIyJ,aAAatJ,OAAQH,IACvC0L,EAAG9L,KAAK6J,aAAa5F,IAAI7D,IAJR,OAMlB,EAAKpC,MAAQ,CACZ6L,aAAciC,EACdC,MAAO,GACPC,QAAS,GACTxF,UAAU,GAEX,EAAKyF,oBAAsB,EAAKA,oBAAoBrN,KAAzB,gBAC3B,EAAKsN,mBAAqB,EAAKA,mBAAmBtN,KAAxB,gBAC1B,EAAKC,gBAAkB,EAAKA,gBAAgBD,KAArB,gBAdL,E,+EAkBlBa,KAAK1B,MAAMc,gBAAgB,c,yCAGTsE,GAClBxD,QAAQC,IAAI,6BACZ,IAAIkM,EAAK,GACLnI,EAAQ,GACRmG,EAAOI,KAAKQ,MAAMb,aAAasC,QAAQhJ,IACxB,QAAhB2G,EAAK7L,QACP0B,QAAQC,IAAIkK,GACZnG,EAAQmG,EAAKA,KAAKC,SAASrC,MAG3B/D,EAAQmG,EAAKA,KAAK7B,SAEnB4B,aAAaO,WAAWjH,GAGxB,IAFA,IAAI4I,EAAQtM,KAAKzB,MAAM+N,MACnBC,EAAUvM,KAAKzB,MAAMgO,QACjB5L,EAAI,EAAGA,EAAIX,KAAKzB,MAAMgO,QAAQzL,OAAQH,IAC1CX,KAAKzB,MAAMgO,QAAQ5L,KAAO+C,IAC5B4I,EAAMK,OAAOhM,EAAE,GACf4L,EAAQI,OAAOhM,EAAE,IAInB,IAAI,IAAIA,EAAI,EAAGA,EAAIyJ,aAAatJ,OAAQH,IACvC0L,EAAG9L,KAAK6J,aAAa5F,IAAI7D,IAK1BX,KAAKC,SAAS,CACbmK,aAAciC,EACdC,MAAOA,EACPC,QAASA,IACP,WACFhC,YAAM,YAAcrG,Q,4CAcrB,IAJsB,IAAD,OACjBoI,EAAQ,GACRC,EAAU,GAEN5L,GADCX,KAAKzB,MAAM6L,aACR,GAAGzJ,EAAIyJ,aAAatJ,OAAQH,IAAK,CAC5CT,QAAQC,IAAI,wBAAyBiK,aAAa5F,IAAI7D,IACtD,IAAI0J,EAAOI,KAAKQ,MAAMb,aAAasC,QAAQtC,aAAa5F,IAAI7D,KACxDnC,EAAS6L,EAAK7L,OAClB6L,EAAOA,EAAKA,KACZ,IAAIxE,EAAM,GACNvB,EAAM,GACNJ,EAAQ,GACRgC,EAAU,IAAMkE,aAAa5F,IAAI7D,GACjCmF,EAAc,GACdC,EAAO,GACPC,EAAU,GACVC,EAAa,GAEjB,GADA/F,QAAQC,IAAI,aAAckK,GACZ,QAAX7L,EAAkB,CACpB,IAAI2I,EAASkD,EAAKjD,WAElB,GADAvB,EAAM,qEACQ,OAAXsB,EACF,IAAI,IAAIG,EAAI,EAAGA,EAAIH,EAAOrG,OAAQwG,IACjC,GAAGH,EAAOG,GAAGC,OAAS,IAAM,CAC3B1B,EAAM,sBAAwBsB,EAAOG,GAAGhD,IACxC,MAIHpE,QAAQC,IAAIkK,GACZnG,EAAQmG,EAAKC,SAASrC,KACtBjC,EAAU,CAAC,UAAWqE,EAAKuC,cAC3B7G,EAAOsE,EAAK2B,SAAStE,UAAU,EAAE,IACjCpD,EAAM+F,EAAK4B,QAEXnG,EAAcuE,EAAK1C,SACnB1B,EAAW1F,KAAK,cACb2L,EAAYhK,IAAI8D,EAAQ,GAAG6G,eAC7B5G,EAAW1F,KAAKyF,EAAU,WAG1BC,EAAW1F,KAAK,gBAEjBgM,EAAQhM,KAAK2F,EAAQO,OAAO,IAE5B6F,EAAM/L,KACL,kBAAC,EAAD,CACCiE,IAAK7D,EACL8D,KAAM9D,EACNkF,IAAKA,EACL3B,MAAOA,EACP4B,YAAaA,EACbC,KAAMA,EACNC,QAASA,EACTC,WAAYA,EACZzH,OAAO,MACP8F,IAAKA,EACL6B,YAAaD,EACbnE,UAAU,eACVwE,oBAAqBvG,KAAKyM,0BAIxB,CACJ,IAAI1E,EAAUsC,EAAKrC,OAAOC,KAAOoC,EAAKrC,OAAOC,KAAKC,SAAS,GAAGC,OAAS,GACnEC,EAAaL,EAAQjH,OACzB+E,EAAM,sFACHuC,EAAa,IACfvC,EAAMkC,EAAQK,EAAW,GAAGE,MAE7BtC,EAAUqE,EAAKvC,UACfhC,EAAcuE,EAAKrC,OAAO5D,KAAK,GAAGqE,gBAClC1C,EAAOsE,EAAK3B,mBAAmBhB,UAAU,EAAE,IAC3CxD,EAAQmG,EAAK7B,SACbhK,EAAS,WACT8F,EAAM+F,EAAK1B,OACX1C,EAAW1F,KAAK,mBACb4L,EAAiBjK,IAAI8D,EAAQ6G,eAC/B5G,EAAW1F,KAAKyF,EAAU,WAG1BC,EAAW1F,KAAK,gBAEjBgM,EAAQhM,KAAK2F,EAAQO,OAAO,IAC5B6F,EAAM/L,KACL,kBAAC,EAAD,CACCiE,IAAK7D,EACL8D,KAAM9D,EACNkF,IAAKA,EACL3B,MAAOA,EACP4B,YAAaA,EACbC,KAAMA,EACNC,QAAS,CAAC,WAAYA,GACtBxH,OAAO,WACP8F,IAAKA,EACL2B,WAAYA,EACZE,YAAaD,EACbnE,UAAU,eACVwE,oBAAqBvG,KAAKyM,uBAK9BzM,KAAKC,SAAS,CACbqM,MAAOA,EACPC,QAASA,EACTxF,UAAU,IACR,WAAO,EAAK9G,SAAS,CAAC8G,UAAU,S,0CAMnC,OADA/G,KAAKZ,kBACEY,KAAKwM,wB,+BAKZ,IAFS,IAAD,EACkBxM,KAAKzB,MAAxB+N,EADC,EACDA,MAAOvF,EADN,EACMA,UACPA,GACN,OACC,6BACC,kBAAC,IAAD,CAAc6B,MAAM,YACpB,yBAAK7G,UAAU,WAAf,YAIH,OACC,yBAAKA,UAAU,sBACd,yCACA,kBAAC,IAAD,CAAgB0J,iBAAiB,EAAMC,UAAW,KAAMC,UAAU,OAAOC,SAAS,eAClF,yBAAK7J,UAAU,iBAAiBuK,Q,GAnMTvI,aCJvBmI,EAAc,IAAIjK,IAAI,CAAC,QAAS,WAAY,WAAY,aAAc,WACtEkK,EAAmB,IAAIlK,IAAI,CAAC,QAAS,WAAY,WAAY,aAAc,UA0LhE6K,G,YAvLd,WAAYxO,GAAQ,IAAD,8BAClB,4CAAMA,KACDC,MAAQ,CACZwC,MAAO,EAAKzC,MAAMiL,MAAMC,OAAOzI,MAC/B+I,KAAM,EAAKxL,MAAMwL,KACjBiD,QAAS,GACTC,aAAc,GACdV,MAAO,GACPvF,UAAU,GAEX,EAAKkG,kBAAoB,EAAKA,kBAAkB9N,KAAvB,gBACzB,EAAKC,gBAAkB,EAAKA,gBAAgBD,KAArB,gBAXL,E,iFA4BlB,IAdoB,IAAD,OACf+N,EAAMlN,KAAKzB,MAAMwO,QACjBI,EAAWnN,KAAKzB,MAAMyO,aAEtBnH,EAAM,GACNvB,EAAM,GACNJ,EAAQ,GACRgC,EAAU,GAEVH,EAAO,GACPC,EAAU,GACVC,EAAa,GAEbqG,EAAQ,GACJ3L,EAAI,EAAGA,EAAIuM,EAAIpM,OAAQH,IAAK,CACnCuD,EAAQgJ,EAAIvM,GAAG2J,SAASrC,KAET,MADfjC,EAAUkH,EAAIvM,GAAGyM,YACgB,OAAZpH,GAAqBA,IACzCA,EAAU,QAEXD,EAAOmH,EAAIvM,GAAGqL,SAAStE,UAAU,EAAE,IACnC7B,EAAM,qEACN,IAAI,IAAIyB,EAAI,EAAGA,EAAI4F,EAAIvM,GAAGyG,WAAWtG,OAAQwG,IAAK,CACjD,IAAI+F,EAAQH,EAAIvM,GAAGyG,WAChBiG,EAAM/F,GAAGC,OAAS,MACpB1B,EAAM,sBAAwBwH,EAAM/F,GAAGhD,KAGzCA,EAAM4I,EAAIvM,GAAGsL,QACb/F,EAAUgH,EAAIvM,GAAG4H,OACjBtC,EAAa,eACViG,EAAYhK,IAAI8D,EAAQ6G,iBAC1B5G,EAAaD,EAAU,WAExBsG,EAAM/L,KACL,kBAAC,EAAD,CACCiE,IAAO,EAAF7D,EACL8D,KAAQ,EAAF9D,EACNkF,IAAKA,EACL3B,MAAOA,EACP4B,YAhCe,GAiCfC,KAAMA,EACNC,QAASA,EACTC,WAAYA,EACZzH,OAAO,MACP8F,IAAKA,EACL6B,YAAaD,EACbnE,UAAU,sBAKb,IAAI,IAAIpB,EAAI,EAAGA,EAAIwM,EAASrM,OAAQH,IAAK,CACxCuD,EAAQiJ,EAASxM,GAAG6H,SAEL,MADfxC,EAAUmH,EAASxM,GAAGmH,aAErB9B,EAAU,QAEXD,EAAOoH,EAASxM,GAAG+H,mBAAmBhB,UAAU,EAAG,IACnDpD,EAAM6I,EAASxM,GAAGgI,OAClBzC,EAAUiH,EAASxM,GAAG4H,OACtBtC,EAAa,eACVkG,EAAiBjK,IAAI8D,EAAQ6G,iBAC/B5G,EAAaD,EAAU,WAExBH,EAAM,sFACN,IAAIkC,EAAUoF,EAASxM,GAAGqH,OAAOC,KAAOkF,EAASxM,GAAGqH,OAAOC,KAAKC,SAAS,GAAGC,OAAS,GACjFC,EAAaL,EAAQjH,OACtBsH,EAAa,IACfvC,EAAMkC,EAAQK,EAAW,GAAGE,MAE7BgE,EAAM/L,KACL,kBAAC,EAAD,CACCiE,IAAO,EAAF7D,EAAI,EACT8D,KAAQ,EAAF9D,EAAI,EACVkF,IAAKA,EACL3B,MAAOA,EACP4B,YArEe,GAsEfC,KAAMA,EACNC,QAASA,EACTC,WAAYA,EACZzH,OAAO,WACP8F,IAAKA,EACL6B,YAAaD,EACbnE,UAAU,sBAKb/B,KAAKC,SAAS,CACbqM,MAAOA,EACPvF,UAAU,IACR,kBAAM7G,QAAQC,IAAI,EAAK5B,MAAM+N,Y,wCAKhCtM,KAAK1B,MAAMc,gBAAgB,Y,yCAGTd,GAAQ,IAAD,OACtB0B,KAAK1B,MAAMiL,MAAMC,OAAOzI,QAAUzC,EAAMiL,MAAMC,OAAOzI,OAEvDf,KAAKC,SAAS,CACbc,MAAOf,KAAK1B,MAAMiL,MAAMC,OAAOzI,MAC/BgG,UAAU,IACR,WACF,IAAIiD,EAAW,EAAKzL,MAAMuL,KAAO,uBAAyB,EAAKxL,MAAMiL,MAAMC,OAAOzI,MAElFO,MAAM0I,GACJC,MAAK,SAAAC,GAAG,OAAIA,EAAI9J,UAChB6J,MACA,SAACE,GAEA,EAAKlK,SAAS,CACb8M,QAAS5C,EAAO4C,QAChBC,aAAc7C,EAAO6C,eACnB,kBAAM,EAAKC,+B,0CAWC,IAAD,OACnBjN,KAAKZ,kBACL,IAAI4K,EAAWhK,KAAKzB,MAAMuL,KAAO,uBAAyB9J,KAAKzB,MAAMwC,MAErEO,MAAM0I,GACJC,MAAK,SAAAC,GAAG,OAAIA,EAAI9J,UAChB6J,MACA,SAACE,GAEA,EAAKlK,SAAS,CACb8M,QAAS5C,EAAO4C,QAChBC,aAAc7C,EAAO6C,eACnB,kBAAM,EAAKC,4B,+BAUjB,IAJS,IAAD,EAC+BjN,KAAKzB,MAAxB+N,GADZ,EACDvL,MADC,EACM+I,KADN,EACYwC,OAAOvF,EADnB,EACmBA,UAGpBA,GACN,OACC,6BACA,kBAAC,IAAD,CAAc6B,MAAM,YACpB,yBAAK7G,UAAU,WAAf,YAIF,OACC,yBAAKA,UAAU,qBACd,uCACA,yBAAKA,UAAU,qBACbuK,Q,GAjLmBvI,aCErBuJ,GAAO,EA2OIC,G,YAxOb,WAAYjP,GAAQ,IAAD,8BACjB,4CAAMA,KACDC,MAAQ,CACXG,UAAW,QACXF,OAAQ,WACRuI,UAAU,EACVD,YAAa,GACb0G,QAAS,qDACTC,OAAQ,IAEV,EAAKvO,iBAAmB,EAAKA,iBAAiBC,KAAtB,gBACxB,EAAK8H,kBAAoB,EAAKA,kBAAkB9H,KAAvB,gBACzB,EAAKuO,WAAa,EAAKA,WAAWvO,KAAhB,gBAClB,EAAKC,gBAAkB,EAAKA,gBAAgBD,KAArB,gBACvB,EAAKwO,oBAAsB,EAAKA,oBAAoBxO,KAAzB,gBAC3B,EAAKyO,2BAA6B,EAAKA,2BAA2BzO,KAAhC,gBAClC,EAAK0O,sBAAwB,EAAKA,sBAAsB1O,KAA3B,gBAC7B,EAAK2O,kBAAoB,EAAKA,kBAAkB3O,KAAvB,gBAjBR,E,6EAoBH2C,GAAK,IAAD,OACO,aAAtB9B,KAAKzB,MAAMC,QAAgC,YAAPsD,EACrCA,EAAK,SAEuB,QAAtB9B,KAAKzB,MAAMC,QAA2B,WAAPsD,IACrCA,EAAK,WAEP,IAAI0L,EAAUxN,KAAKzB,MAAMiP,QAAU1L,EACnC9B,KAAKC,SAAS,CACZ8G,UAAU,IAEZzF,MAAMkM,EAAUxN,KAAKzB,MAAMC,QACxByL,MAAK,SAAAC,GAAG,OAAIA,EAAI9J,UAChB6J,MACC,SAACE,GACC,EAAKlK,SAAS,CACZvB,UAAWoD,EACXgF,YAAaqD,EAAO4D,QACpBhH,UAAU,IACT,kBACD,EAAK8G,sBAAsB/L,EAAIqI,EAAO4D,iB,wCAM9BjM,GAAK,IAAD,OACpB9B,KAAKC,SAAS,CACZvB,UAAWoD,IACV,WAAO5B,QAAQC,IAAI,EAAK5B,MAAMG,gB,4CAGboD,EAAIiM,GAExB,IADA7N,QAAQC,IAAI,8BACNH,KAAKzB,MAAMG,YAAcoD,GAAM9B,KAAKzB,MAAMuI,cAAgBiH,IAEhE/N,KAAKC,SAAS,CACZvB,UAAWoD,EACXgF,YAAaiH,EACbhH,UAAU,IACT,kBAAM7G,QAAQC,IAAI,a,uCAINwG,GAAM,IAAD,OAChBqH,EAAoB,QAARrH,EAAgB,WAAa,MACzCsH,EAAQjO,KAAKzB,MAAMG,UACN,aAAdsP,GAAsC,YAAVC,EAC7BA,EAAQ,SAEY,QAAdD,GAAiC,WAAVC,IAC7BA,EAAQ,WAEV,IAAIT,EAAUxN,KAAKzB,MAAMiP,QAAUS,EACnCjO,KAAKC,SAAS,CACZ8G,UAAU,IAEZzF,MAAMkM,EAAUQ,GACb/D,MAAK,SAAAC,GAAG,OAAIA,EAAI9J,UAChB6J,MACC,SAACE,GACCjK,QAAQC,IAAIgK,GACZ,EAAKlK,SAAS,CACZ6G,YAAaqD,EAAO4D,QACpBhH,UAAU,EACVvI,OAAQwP,EACRtP,UAAWuP,S,4CA0BnB,IApBqB,IAAD,OAChBR,EAAS,GAkBPS,EAAQ,CAAC,OAAQ,QAAS,WAAY,aAAc,WAAY,UAnBlD,WAoBZvN,GAGN8M,EAAOlN,KACL,kBAAC,IAAD,CAAO4N,OAAK,EAACC,KAAM,IAAMF,EAAMvN,GAC3B6D,IAAO8I,GACPe,OACE,SAAC/P,GAAD,OACE,kBAAC,EAAD,iBAAcA,EAAd,CACEE,OAAQ,EAAKD,MAAMC,OACnBE,UAAWwP,EAAMvN,GACjBoG,SAAU,EAAKxI,MAAMwI,SACrBD,YAAa,EAAKvI,MAAMuI,YACxBG,kBAAmB,EAAKA,yBAKpCqG,MAlBM3M,EAAI,EAAGA,EAAIuN,EAAMpN,OAAQH,IAAM,EAA/BA,GAqBR8M,EAAOlN,KACL,kBAAC,IAAD,CAAO4N,OAAK,EAACC,KAAK,aAChB5J,IAAK8I,GACLe,OACM,SAAC/P,GAAD,OACE,kBAAC,EAAD,iBAAkBA,EAAlB,CACEc,gBAAiB,EAAK0O,yBAKpCR,KAEAG,EAAOlN,KACL,kBAAC,IAAD,CAAO4N,OAAK,EAACC,KAAK,iBAChB5J,IAAK8I,GACLe,OACE,SAAC/P,GAAD,OACA,kBAAC,GAAD,iBAAgBA,EAAhB,CACEwL,KAAM,EAAKvL,MAAMiP,QACjBpO,gBAAiB,EAAK0O,yBAK9BL,EAAOlN,KACL,kBAAC,IAAD,CAAO4N,OAAK,EAACC,KAAM,WACb5J,IAAK8I,GACLe,OACE,SAAC/P,GAAD,OACA,kBAAC,EAAD,iBAAkBA,EAAlB,CACEwL,KAAM,EAAKvL,MAAMiP,QACjBpO,gBAAiB,EAAK0O,yBAIlCR,KACAtN,KAAKC,SAAS,CACZwN,OAAQA,M,0CAKS,IAAD,OAEdD,EAAUxN,KAAKzB,MAAMiP,QAAUxN,KAAKzB,MAAMG,UAC9C4C,MAAMkM,EAAUxN,KAAKzB,MAAMC,QACxByL,MAAK,SAAAC,GAAG,OAAIA,EAAI9J,UAChB6J,MACC,SAACE,GACC,EAAKlK,SAAS,CACZ6G,YAAaqD,EAAO4D,QACpBhH,UAAU,S,iDAMOvI,EAAQwH,GACjC,IAAIwH,EAAUxN,KAAKzB,MAAMiP,QAAUxH,EAAU,IACzCsI,EAAM,GAQV,OAPAhN,MAAMkM,EAAUhP,GACbyL,MAAK,SAAAC,GAAG,OAAIA,EAAI9J,UAChB6J,MACC,SAACE,GACCmE,EAAMnE,EAAO4D,QACb7N,QAAQC,IAAImO,MAEXA,I,mCAIP,OAAO,kBAAC,EAAD,CAAU9P,OAAQwB,KAAKzB,MAAMC,OAAQuI,SAAU/G,KAAKzB,MAAMwI,SAAUD,YAAa9G,KAAKzB,MAAMuI,YAAaG,kBAAmBjH,KAAKiH,sB,0CAIxIjH,KAAK2N,wB,+BAGG,IACDF,EAAUzN,KAAKzB,MAAfkP,OACP,OACE,yBAAK/J,GAAG,OACR,kBAAC,IAAD,KACE,kBAAC,EAAD,CACElF,OAAQwB,KAAKzB,MAAMC,OACnBU,iBAAkBc,KAAKd,iBACvBR,UAAWsB,KAAKzB,MAAMG,UACtBU,gBAAiBY,KAAKZ,kBAExB,kBAAC,IAAD,KACCqO,S,GAjOS1J,aCAEwK,QACW,cAA7B5M,OAAO6M,SAASC,UAEe,UAA7B9M,OAAO6M,SAASC,UAEhB9M,OAAO6M,SAASC,SAASlF,MACvB,2DCQNmF,IAASL,OACR,kBAAC,GAAD,MACAM,SAASC,eAAe,SDuGnB,kBAAmBC,WACrBA,UAAUC,cAAcC,MACrB9E,MAAK,SAAA+E,GACJA,EAAaC,gBAEdC,OAAM,SAAAC,GACLjP,QAAQiP,MAAMA,EAAMC,a","file":"static/js/main.6753c3c4.chunk.js","sourcesContent":["import React, {Component} from 'react';\nimport {Nav, Navbar, Form, FormControl} from \"react-bootstrap\";\nimport {Link} from 'react-router-dom';\nimport {MdShare, MdBookmarkBorder, MdBookmark} from 'react-icons/md';\nimport Select from 'react-select';\nimport AsyncSelect, {makeAsyncSelect} from 'react-select/async';\nimport AsyncCreatableSelect from 'react-select/async-creatable';\nimport _ from 'lodash';\nimport {\n  withRouter\n} from 'react-router-dom';\n//AUTOSUGGEST KEY: 295892d4ab4649d5b99cf93f690c076b\n\nfunction debounce(func, wait, immediate) {\n  var timeout;\n  return function executedFunction() {\n    var context = this;\n    var args = arguments;\n    var later = function() {\n      timeout = null;\n      if (!immediate) func.apply(context, args);\n    };\n    var callNow = immediate && !timeout;\n    clearTimeout(timeout);\n\t\n    timeout = setTimeout(later, wait);\n\t\n    if (callNow) func.apply(context, args);\n  };\n};\n\nconst searchApiKey = '295892d4ab4649d5b99cf93f690c076b';\nclass NavbarIdx extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tsource: this.props.source,\n\t\t\tselectedPage: this.props.whichPage,\n\t\t\tchecked: this.props.source === 'guardian',\n\t\t\tbookmark: this.props.whichPage === 'bookmark' ? <MdBookmark/> : <MdBookmarkBorder/>,\n\t\t\tbookmarkChecked: this.props.whichPage === 'bookmark',\n\t\t\tsearchValue: null,\n\t\t\tsearchDropdown: [],\n\t\t\tcurrentSearchValue: [],\n\t\t\tnavbarExpanded: false\n\t\t};\n\t\tthis.updateNewsSource = this.updateNewsSource.bind(this);\n\t\tthis.updateWhichPage = this.updateWhichPage.bind(this);\n\t\tthis.styleLink = this.styleLink.bind(this);\n\t\tthis.toggleBookmark = this.toggleBookmark.bind(this);\n\t\tthis.autosuggest = this.autosuggest.bind(this);\n\t\tthis.handleSubmitSearch = this.handleSubmitSearch.bind(this);\n\t\tthis.handleSubmitSearchClick = this.handleSubmitSearchClick.bind(this);\n\t\tthis.renderSearchPage = this.renderSearchPage.bind(this);\n\t\tthis.autosuggestArray = this.autosuggestArray.bind(this);\n\t\tthis.timeout = this.timeout.bind(this);\n\t\tthis.renderToggleNewsSources = this.renderToggleNewsSources.bind(this);\n\t\tthis.toggleNavbarExpanded = this.toggleNavbarExpanded.bind(this);\n\t}\n\n\tcomponentDidUpdate(prevProps) {\n\t\tif(prevProps.source !== this.props.source) {\n\t\t\tthis.setState({\n\t\t\t\tsource: this.props.source,\n\t\t\t\tselectedPage: this.props.whichPage\n\t\t\t});\n\t\t}\n\t\tif(prevProps.whichPage !== this.props.whichPage) {\n\t\t\tthis.setState({\n\t\t\t\tselectedPage: this.props.whichPage\n\t\t\t});\n\t\t}\n\t}\n\n\tcomponentDidMount() {\n\t\tconsole.log('MOUNT',this.state.searchValue);\n\t}\n\n\ttoggleBookmark() {\n\t\tif(this.state.bookmarkChecked === false) {\n\t\t\tthis.setState({\n\t\t\t\tbookmark: <MdBookmark/>,\n\t\t\t\tbookmarkChecked: true,\n\t\t\t\tselectedPage: 'bookmark',\n\t\t\t\tnavbarExpanded: false\n\t\t\t});\n\t\t}\n\t\telse {\n\t\t\tthis.setState({\n\t\t\t\tbookmark: <MdBookmarkBorder/>,\n\t\t\t\tbookmarkChecked: false,\n\t\t\t\tnavbarExpanded: false\n\t\t\t});\n\t\t}\n\t}\n\n\tautosuggestArray(json, input) {\n\t\tvar arr = [];\n\t\tarr.push({value: input, label: input});\n\t\tif(json instanceof Array) {\n\t\t\treturn arr;\n\t\t}\n\t\tfor(let i = 0; i < json.suggestionGroups[0].searchSuggestions.length; i++) {\n\t\t\tarr.push({value: json.suggestionGroups[0].searchSuggestions[i].query, label: json.suggestionGroups[0].searchSuggestions[i].displayText});\n\t\t}\n\t\treturn arr;\n\t}\n\n\ttoggleNavbarExpanded() {\n\t\tthis.setState({\n\t\t\tnavbarExpanded: !this.state.navbarExpanded\n\t\t});\n\t}\n\n\ttimeout(ms) {\n\t    return new Promise(resolve => setTimeout(resolve, ms));\n\t}\n\n\tasync autosuggest(e) {\n\t\tconsole.log('autosuggest', e);\n\t\tawait this.setState({\n\t\t\tcurrentSearchValue: [{value: e, label: e}],\n\t\t\tsearchValue: {value: e, label: e}\n\t\t});\n\t\tvar arr = this.autosuggestArray([], e);\n\t\tawait this.timeout(1000);\n\t\tconst response = \n\t\tawait fetch(\"https://api.cognitive.microsoft.com/bing/v7.0/suggestions?q=\" + e, \n\t\t{\n\t\t\theaders: {'Ocp-Apim-Subscription-Key': searchApiKey}\n\t\t});\n\t\tconst json = await response.json();\n\t\tarr = await this.autosuggestArray(json, e);\n\t\treturn arr;\n\t\t/*.then(r => r.json())\n\t\t.then((json) => {\n\t\t\tvar searchQArray = json.suggestionGroups[0].searchSuggestions;\n\t\t\tconsole.log(searchQArray);\n\t\t\tvar arr = [];\n\t\t\tfor(let i = 0; i < searchQArray.length; i++) {\n\t\t\t\tarr.push({value: searchQArray[i].query, label: searchQArray[i].displayText});\n\t\t\t}\n\t\t\treturn arr;\n\t\t\t/*this.setState({ \n\t\t\t\tsearchValue: e,\n\t\t\t\tsearchDropdown: arr \n\t\t\t});\n\t\t});*/\n\t}\n\n\tupdateNewsSource(source) {\n\t\tthis.setState({\n\t\t\tchecked: source !== 'guardian',\n\t\t\tnavbarExpanded: false\n\t\t});\n\t\tthis.props.updateNewsSource(source);\n\t}\n\n\thandleSubmitSearch(e) {\n\t\tif(e.keyCode == 13) {\n\t\t\tconsole.log(e.target.value);\n\t\t\tconsole.log('form submitted!!!', e);\n\t\t\tthis.renderSearchPage(e.target.value);\n\t\t\tthis.setState({\n\t\t\t\tsearchValue: {value: e.target.value, label: e.target.value}\n\t\t\t});\n\t\t}\n\t}\n\n\thandleSubmitSearchClick(value) {\n\t\tvar e = window.event;\n\t\tconsole.log('form submitted!!!!', value.value);\n\t\tthis.renderSearchPage(value.value);\n\t\tthis.setState({\n\t\t\tsearchValue: {value: value.value, label: value.value}\n\t\t});\n\t\t//e.preventDefault();\n\t}\n\n\trenderSearchPage(value) {\n\t\tthis.props.history.push('/search/' + value);\n\t\t//this.props.renderSearchPage(value);\n\t}\n\n\tupdateWhichPage(e, pg) {\n\t\tconsole.log(pg);\n\t\tthis.props.updateWhichPage(pg);\n\t\tthis.setState({\n\t\t\tnavbarExpanded: false\n\t\t});\n\t\tif(pg !== 'search') {\n\t\t\tconsole.log('setting search 2 null!');\n\t\t\tthis.setState({\n\t\t\t\tsearchValue: null\n\t\t\t});\n\t\t}\n\t}\n\n\tstyleLink(className) {\n\t\tif(className.includes(this.props.whichPage)) {\n\t\t\treturn \"selectedNav\";\n\t\t}\n\t\telse {\n\t\t\treturn \"unselectedNav\";\n\t\t}\n\t}\n\n\trenderToggleNewsSources() {\n\t\tvar pages = new Set(['home/', 'world/', 'politics/', 'business/', 'technology/', 'sports/', 'sport/']);\n\t\tif(pages.has(this.state.selectedPage)) {\n\t\t\treturn(\n\t\t\t\t<div className=\"toggleDiv\">\n\t\t\t\t<div className='toggleNewsContainer'>\n\t\t\t\t    <p className='newsSourceLabel'>NYTimes</p>\n\t\t\t    </div>\n\t\t\t\t    <label className='toggleSwitch'>\n\t\t\t\t    \t<input type='checkbox' onClick={() => this.updateNewsSource(this.state.source)} value={this.state.source} checked={this.state.checked}/>\n\t\t\t\t    \t<span className='toggleSlider'/>\n\t\t\t\t    </label>\n\t\t\t    <div className='toggleNewsContainer'>\n\t\t\t\t    <p className='newsSourceLabel'>Guardian</p>\n\t\t\t    </div>\n\t\t\t    </div>\n\t\t    );\n\t\t}\n\t\telse {\n\t\t\treturn;\n\t\t}\n\t}\n\n\trender() {\n\t\tvar searchValue = this.state.searchValue;\n\t\tconsole.log(searchValue);\n\t\tconst {source, searchDropdown, currentSearchValue, selectedPage} = this.state;\n\t\t//var updateNewsSource = this.props.updateNewsSource(source);\n\t\tvar bookmark = <MdBookmarkBorder/>;\n\t\tif(this.props.whichPage === 'bookmark') {\n\t\t\tbookmark = <MdBookmark/>;\n\t\t}\n\t\t//<FormControl type=\"text\" placeholder=\"Search\" className=\"mr-sm-2\" value={this.state.searchValue} onChange={this.autosuggest} />\n\t\t/*\n\t\t<CreatableSelect \n\t\t\t    \t\tonInputChange={this.autosuggest}\n\t\t\t    \t\toptions={this.searchDropdown}\n\t\t\t    \t\tautosize={false}\n\t\t\t    \t\theight='20px'\n\t\t\t    \t\tplaceholder='Enter keyword...'\n\t\t\t    \t\tdefaultValue={searchValue}\n\t\t\t    \t\tclassName='navbarSearch'\n\t\t\t    \t\tclassNamePrefix='navbarSearch'\n\t\t\t    \t\tisSearchable={true}\n\t\t\t    \t\tonChange={this.handleSubmitSearchClick}\n\t\t\t    \t\tonKeyDown={(e) => this.handleSubmitSearch(e)}\n\t\t    \t\t/>\n\t\t*/\n\t\t/*if(window.innerWidth >= 500) {\n\t\t\treturn(\n\t\t\t\t  <Navbar className='nav-bg-gradient' bg=\"dark\" variant=\"dark\" fixed=\"top\">\n\t\t\t    \t<AsyncSelect\n\t\t\t        \tcacheOptions\n\t\t\t        \tdefaultOptions={currentSearchValue}\n\t\t\t        \tloadOptions={_.debounce(this.autosuggest, 1000, {leading: true})}\n\t\t\t        \tplaceholder='Enter keyword...'\n\t\t\t        \tclassNamePrefix='navbarSearch'\n\t\t\t        \tclassName='navbarSearch'\n\t\t\t        \tisSearchable={true}\n\t\t\t        \tonChange={this.handleSubmitSearchClick}\n\t\t\t        \tonKeyDown={this.handleSubmitSearch}\n\t\t\t        \tvalue={this.state.searchValue}\n\t\t\t      \t/>\n\t\t\t    <Nav className=\"mr-auto\">\n\t\t\t      <Nav.Link onClick={(e) => this.updateWhichPage(e, 'home/')} className={this.styleLink('home/')}><Link to='/home'>Home</Link></Nav.Link>\n\t\t\t      <Nav.Link onClick={(e) => this.updateWhichPage(e, 'world/')} className={this.styleLink('world/')}><Link to='/world'>World</Link></Nav.Link>\n\t\t\t      <Nav.Link onClick={(e) => this.updateWhichPage(e, 'politics/')} className={this.styleLink('politics/')}><Link to='/politics'>Politics</Link></Nav.Link>\n\t\t\t      <Nav.Link onClick={(e) => this.updateWhichPage(e, 'business/')} className={this.styleLink('business/')}><Link to='/business'>Business</Link></Nav.Link>\n\t\t\t      <Nav.Link onClick={(e) => this.updateWhichPage(e, 'technology/')} className={this.styleLink('technology/')}><Link to='/technology'>Technology</Link></Nav.Link>\n\t\t\t      <Nav.Link onClick={(e) => this.updateWhichPage(e, 'sports/')} className={this.styleLink('sports/')}><Link to='/sports'>Sports</Link></Nav.Link>\n\t\t\t    </Nav>\n\t\t\t    <div className='navbarBookmark'><a href='/bookmarks'><button onClick={() => this.toggleBookmark()}>{bookmark}</button></a></div>\n\t\t\t    {this.renderToggleNewsSources()}\n\t\t\t  </Navbar>\n\t\t\t);\n\t\t}\n\t\telse {*/\n\t\t\treturn(\n\t\t\t\t<Navbar collapseOnSelect expand=\"md\" className='nav-bg-gradient' bg=\"dark\" variant=\"dark\" fixed=\"top\" expanded={this.state.navbarExpanded}>\n\t\t\t\t\t<AsyncSelect\n\t\t\t        \tcacheOptions\n\t\t\t        \tdefaultOptions={currentSearchValue}\n\t\t\t        \tloadOptions={_.debounce(this.autosuggest, 1500, {leading: true})}\n\t\t\t        \tplaceholder='Enter keyword...'\n\t\t\t        \tclassNamePrefix='navbarSearch'\n\t\t\t        \tclassName='navbarSearch'\n\t\t\t        \tisSearchable={true}\n\t\t\t        \tonChange={this.handleSubmitSearchClick}\n\t\t\t        \tonKeyDown={this.handleSubmitSearch}\n\t\t\t        \tvalue={this.state.searchValue}\n\t\t\t      \t/>\n\t\t\t      \t<Navbar.Toggle aria-controls=\"responsive-navbar-nav\" onClick={this.toggleNavbarExpanded}/>\n\t\t\t      \t<Navbar.Collapse id=\"responsive-navbar-nav\">\n\t\t\t      \t<Nav className=\"mr-auto\">\n\t\t\t      \t\t  <Nav.Link onClick={(e) => this.updateWhichPage(e, 'home/')} className={this.styleLink('home/')}><Link to='/home'>Home</Link></Nav.Link>\n\t\t\t\t\t      <Nav.Link onClick={(e) => this.updateWhichPage(e, 'world/')} className={this.styleLink('world/')}><Link to='/world'>World</Link></Nav.Link>\n\t\t\t\t\t      <Nav.Link onClick={(e) => this.updateWhichPage(e, 'politics/')} className={this.styleLink('politics/')}><Link to='/politics'>Politics</Link></Nav.Link>\n\t\t\t\t\t      <Nav.Link onClick={(e) => this.updateWhichPage(e, 'business/')} className={this.styleLink('business/')}><Link to='/business'>Business</Link></Nav.Link>\n\t\t\t\t\t      <Nav.Link onClick={(e) => this.updateWhichPage(e, 'technology/')} className={this.styleLink('technology/')}><Link to='/technology'>Technology</Link></Nav.Link>\n\t\t\t\t\t      <Nav.Link onClick={(e) => this.updateWhichPage(e, 'sports/')} className={this.styleLink('sports/')}><Link to='/sports'>Sports</Link></Nav.Link>\n\t\t\t      \t</Nav>\n\t\t\t      \t<div className='navbarBookmark'><a href='/bookmarks'><button onClick={() => this.toggleBookmark()}>{bookmark}</button></a></div>\n\t\t\t    \t{this.renderToggleNewsSources()}\n\t\t\t      \t</Navbar.Collapse>\n\t\t\t\t</Navbar>\n\t\t\t);\n\t\t//}\n\t}\n}\n\nexport default withRouter(NavbarIdx);","import React, {Component} from 'react';\nimport {EmailShareButton, FacebookShareButton, TwitterShareButton, FacebookIcon, EmailIcon, TwitterIcon} from 'react-share';\nimport Modal from 'react-bootstrap/Modal';\n\nclass ShareModal extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\ttitle: this.props.modalTitle,\n\t\t\tbody: this.props.modalBody,\n\t\t\turl: this.props.url,\n\t\t\tshow: this.props.show,\n\t\t\tkey: this.props.key1\n\t\t};\n\t\t//this.modalHide = this.modalHide.bind(this);\n\t}\n\n\tcomponentDidUpdate(prevProps) {\n\t\tif(prevProps.show !== this.props.show) {\n\t\t\tthis.setState({\n\t\t\t\tshow: this.props.show\n\t\t\t});\n\t\t}\n\t}\n\n\trender() {\n\t\tconst {title, url, show, key} = this.state;\n\t\treturn(\n\t\t\t<Modal key={key} show={show} onHide={this.props.onHide} style={{opacity:1}}>\n\t\t\t\t  <Modal.Header closeButton>\n\t\t\t\t    <Modal.Title>{title}</Modal.Title>\n\t\t\t\t  </Modal.Header>\n\n\t\t\t\t  <Modal.Body>\n\t\t\t\t    <p>Share via</p>\n\t\t\t\t    <ul className='socialIcons'>\n\t\t\t\t\t    <li><FacebookShareButton url={url} hashtag='#CSCI_571_NewsApp'><FacebookIcon round={true}/></FacebookShareButton></li>\n\t\t\t\t\t    <li><TwitterShareButton url={url} hashtags={['CSCI_571_NewsApp']}><TwitterIcon round={true}/></TwitterShareButton></li>\n\t\t\t\t\t    <li><EmailShareButton url={url} subject='#CSCI_571_NewsApp'><EmailIcon round={true}/></EmailShareButton></li>\n\t\t\t\t    </ul>\n\t\t\t\t  </Modal.Body>\n\t\t\t</Modal>\n\t\t);\n\t}\n}\n\nexport default ShareModal;","import React, {Component} from 'react';\nimport Card from 'react-bootstrap/Card';\nimport Button from 'react-bootstrap/Button';\nimport {MdShare} from 'react-icons/md';\nimport ShareModal from './sharemodal.js';\nimport {Link} from 'react-router-dom';\nimport {IoMdTrash} from \"react-icons/io\";\n\nclass NewsCard extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tkey: this.props.key1,\n\t\t\timg: this.props.img,\n\t\t\ttitle: this.props.title,\n\t\t\tdescription: this.props.description,\n\t\t\tdate: this.props.date,\n\t\t\tsection: this.props.section,\n\t\t\tbuttonName: this.props.buttonName,\n\t\t\tsource: this.props.source,\n\t\t\turl: this.props.url,\n\t\t\tappPath: this.props.reactAppUrl,\n\t\t\tmodalShow: false,\n\t\t\tclassName: this.props.className ? this.props.className : ''\n\t\t};\n\t\tthis.toggleShow = this.toggleShow.bind(this);\n\t\tthis.removeBookmark = this.removeBookmark.bind(this);\n\t}\n\n\ttoggleShow() {\n\t\tvar show = this.state.modalShow;\n\t\tthis.setState({\n\t\t\tmodalShow: !show\n\t\t});\n\t}\n\n\tremoveBookmark(id) {\n\t\tthis.props.removeBookmarkProps(id);\n\t}\n\n\trender() {\n\t\tconst {key, img, title, description, date, section, buttonName, url, modalShow, appPath, className, source} = this.state;\n\t\tif(className === 'bookmarkCard') {\n\t\t\t//console.log(url);\n\t\t\treturn(\n\t\t\t\t<Card key={key} className={className}>\n\t\t\t\t\t<Card.Title>\n\t\t\t\t\t\t<div className='cardTitleText'>\n\t\t\t\t\t\t<Link to={appPath}>{title}</Link>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className='cardTitleButtons'>\n\t\t\t\t\t\t\t<a onClick={this.toggleShow}><MdShare/></a>\n\t\t\t\t\t\t\t<ShareModal key1={key + '-modal'} show={modalShow} onHide={this.toggleShow} url={url} modalTitle={title}/>\n\t\t\t\t\t\t\t<a className='trashIcon' onClick={() => this.removeBookmark(appPath.substr(1))}><IoMdTrash className='trashIcon'/></a>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</Card.Title>\n\n\t\t\t\t\t<Link to={appPath}><Card.Img src={img}/></Link>\n\t\t\t\t\t<Card.Body>\n\t\t\t\t\t\t<Link to={appPath}>\n\t\t\t\t\t\t<div className='footer'>\n\t\t\t\t\t\t<div className='newsDate'>\n\t\t\t\t\t\t\t\t<Link to={appPath}>\n\t\t\t\t\t\t\t\t\t{date}\n\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className='cardButtons'>\n\t\t\t\t\t\t\t<Button className={buttonName[0]}>{section[0]}</Button>\n\t\t\t\t\t\t\t<Button className={buttonName[1]}>{section[1]}</Button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t</Card.Body>\n\t\t\t\t</Card>\n\t\t\t);\n\t\t}\n\t\telse if(className === 'searchResultCard') {\n\t\t\treturn(\n\t\t\t\t<Card key={key} className={className}>\n\t\t\t\t\t<Card.Title>\n\t\t\t\t\t\t<div className='cardTitleText'>\n\t\t\t\t\t\t<Link to={'../' + appPath}>{title}</Link>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className='cardTitleButtons'>\n\t\t\t\t\t\t\t<a onClick={this.toggleShow}><MdShare/></a>\n\t\t\t\t\t\t\t<ShareModal key1={key + '-modal'} show={modalShow} onHide={this.toggleShow} url={url} modalTitle={title}/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</Card.Title>\n\n\t\t\t\t\t<Link to={'../' + appPath}><Card.Img src={img}/></Link>\n\t\t\t\t\t<Card.Body>\n\t\t\t\t\t\t<Link to={'../' + appPath}>\n\t\t\t\t\t\t<div className='footer'>\n\t\t\t\t\t\t<div className='newsDate'>\n\t\t\t\t\t\t\t\t<Link to={'../' + appPath}>\n\t\t\t\t\t\t\t\t\t{date}\n\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className='cardButtons'>\n\t\t\t\t\t\t\t<Button className={buttonName}>{section}</Button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t</Card.Body>\n\t\t\t\t</Card>\n\t\t\t);\n\t\t}\n\t\telse {\n\t\t\treturn(\n\t\t\t\t<Card key={key} className={className}>\n\t\t\t\t\t<Link to={appPath}><Card.Img src={img}/></Link>\n\t\t\t\t\t<Card.Body>\n\t\t\t\t\t\t<Card.Title>\n\t\t\t\t\t\t\t<Link to={appPath}>{title}</Link>\n\t\t\t\t\t\t\t<a onClick={this.toggleShow}><MdShare/></a>\n\t\t\t\t\t\t\t<ShareModal key1={key + '-modal'} show={modalShow} onHide={this.toggleShow} url={url} modalTitle={title}/>\n\t\t\t\t\t\t</Card.Title>\n\t\t\t\t\t\t<Card.Body>\n\t\t\t\t\t\t\t<Link to={appPath}>\n\t\t\t\t\t\t\t\t<div className='newsDescription'>\n\t\t\t\t\t\t\t\t\t{description}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t</Card.Body>\n\t\t\t\t\t\t<Link to={appPath}>\n\t\t\t\t\t\t<div className='footer'>\n\t\t\t\t\t\t<div className='newsDate'>\n\t\t\t\t\t\t\t\t<Link to={appPath}>\n\t\t\t\t\t\t\t\t\t{date}\n\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<Button className={buttonName}>{section}</Button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t</Card.Body>\n\t\t\t\t</Card>\n\t\t\t);\n\t\t}\n\t\t\n\t}\n}\n\nexport default NewsCard;","import React, {Component} from 'react';\nimport BounceLoader from 'react-spinners/BounceLoader';\nimport NewsCard from './newscard.js';\n\n//const host = 'http://localhost:3000';\n\nclass HomePage extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tsource: this.props.source,\n\t\t\tpageContent: this.props.pageContent,\n\t\t\twhichPage: this.props.whichPage,\n\t\t\tisLoaded: this.props.isLoaded\n\t\t};\n\t\tthis.populatePage = this.populatePage.bind(this);\n\t\tthis.updatePageContent = this.updatePageContent.bind(this);\n\t\tthis.show = false;\n\t\tthis.toggleShow = this.toggleShow.bind(this);\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.updatePageContent();\n\t}\n\n\tcomponentDidUpdate(prevProps) {\n\t\tif(this.props.source !== prevProps.source && this.props.pageContent !== prevProps.pageContent) {\n\t\t\tthis.setState({\n\t\t\t\tsource: this.props.source,\n\t\t\t\tpageContent: this.props.pageContent,\n\t\t\t\tisLoaded: this.props.isLoaded,\n\t\t\t\twhichPage: this.props.whichPage\n\t\t\t});\n\t\t}\n\t\telse {\n\t\t\tif(this.props.isLoaded !== prevProps.isLoaded) {\n\t\t\t\tthis.setState({\n\t\t\t\t\tisLoaded: false\n\t\t\t\t}, () => {\n\t\t\t\t\tthis.setState({\n\t\t\t\t\t\tsource: this.props.source,\n\t\t\t\t\t\tpageContent: this.props.pageContent,\n\t\t\t\t\t\tisLoaded: this.props.isLoaded,\n\t\t\t\t\t\twhichPage: this.props.whichPage\n\t\t\t\t\t}, () => this.populatePage());\n\t\t\t\t});\n\t\t\t\t\n\t\t\t}\n\t\t\telse if(this.props.whichPage !== prevProps.whichPage) {\n\t\t\t\tthis.setState({\n\t\t\t\t\tisLoaded: false\n\t\t\t\t}, () => {\n\t\t\t\t\tthis.setState({\n\t\t\t\t\t\tsource: this.props.source,\n\t\t\t\t\t\tpageContent: this.props.pageContent,\n\t\t\t\t\t\tisLoaded: this.props.isLoaded,\n\t\t\t\t\t\twhichPage: this.props.whichPage\n\t\t\t\t\t}, () => this.populatePage());\n\t\t\t\t});\n\t\t\t\t\n\t\t\t}\n\t\t}\n\t}\n\n\tupdatePageContent() {\n\t\tthis.props.updatePageContent();\n\t}\n\n\ttoggleShow() {\n\t\tthis.setState({\n\t\t\tmodalShow: true\n\t\t});\n\t}\n\n\tpopulatePage() {\n\t\tlet page = [];\n\t\tvar pageContent = this.props.pageContent;\n\t\tconsole.log(pageContent);\n\t\tif(this.props.source === 'nyt') {\n\t\t\tfor(let i = 0; i < pageContent.length; i++) {\n\t\t\t\t//console.log(pageContent[i]);\n\t\t\t\tvar buttonName = 'other-button';\n\t\t\t\tif(pageContent[i].section === 'world' || pageContent[i].section === 'politics' \n\t\t\t\t\t|| pageContent[i].section === 'business' || pageContent[i].section === 'technology'\n\t\t\t\t\t|| pageContent[i].section === 'sports' || pageContent[i].section === 'sport') {\n\t\t\t\t\tbuttonName = pageContent[i].section + '-button';\n\t\t\t\t}\n\t\t\t\tvar imgArr = pageContent[i].multimedia;\n\t\t\t\tvar imgURL = 'https://upload.wikimedia.org/wikipedia/commons/0/0e/Nytimes_hq.jpg';\n\t\t\t\tif(imgArr !== null) {\n\t\t\t\t\tfor(let j = 0; j < imgArr.length; j++) {\n\t\t\t\t\t\tif(imgArr[j].width >= 2000) {\n\t\t\t\t\t\t\timgURL = imgArr[j].url;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tvar reactAppPath = '/' + pageContent[i].uri.substring(14);\n\n\t\t\t\t/*page.push(\n\t\t\t\t\t<Route path={reactAppPath} exact>\n\t\t\t\t\t\t<NewsCard\n\t\t\t\t\t\t\tkey={i} \n\t\t\t\t\t\t\tkey1={i} \n\t\t\t\t\t\t\timg={imgURL} \n\t\t\t\t\t\t\ttitle={pageContent[i].title}\n\t\t\t\t\t\t\tdescription={pageContent[i].abstract}\n\t\t\t\t\t\t\tdate={pageContent[i].published_date.substring(0,10)}\n\t\t\t\t\t\t\tsection={pageContent[i].section}\n\t\t\t\t\t\t\tbuttonName={buttonName}\n\t\t\t\t\t\t\tsource={this.props.source}\n\t\t\t\t\t\t\turl={pageContent[i].url} \n\t\t\t\t\t\t\treactAppUrl={reactAppPath}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t</Route>\n\t\t\t\t);*/\n\t\t\t\tpage.push(\n\t\t\t\t\t<NewsCard \n\t\t\t\t\t\tkey={i} \n\t\t\t\t\t\tkey1={i} \n\t\t\t\t\t\timg={imgURL} \n\t\t\t\t\t\ttitle={pageContent[i].title}\n\t\t\t\t\t\tdescription={pageContent[i].abstract}\n\t\t\t\t\t\tdate={pageContent[i].published_date.substring(0,10)}\n\t\t\t\t\t\tsection={pageContent[i].section}\n\t\t\t\t\t\tbuttonName={buttonName}\n\t\t\t\t\t\tsource={this.props.source}\n\t\t\t\t\t\turl={pageContent[i].url} \n\t\t\t\t\t\treactAppUrl={reactAppPath}\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\t//console.log(pageContent);\n\t\t\tfor(let i = 0; i < pageContent.length; i++) {\n\t\t\t\tvar buttonName1 = 'other-button';\n\t\t\t\tif(pageContent[i].sectionId === 'world' || pageContent[i].sectionId === 'politics' \n\t\t\t\t\t|| pageContent[i].sectionId === 'business' || pageContent[i].sectionId === 'technology'\n\t\t\t\t\t|| pageContent[i].sectionId === 'sports' || pageContent[i].sectionId === 'sport') {\n\t\t\t\t\tbuttonName1 = pageContent[i].sectionId + '-button';\n\t\t\t\t}\n\t\t\t\tvar imgArr1 = pageContent[i].blocks.main ? pageContent[i].blocks.main.elements[0].assets : [];\n\t\t\t\tvar imgArrLen1 = imgArr1.length;\n\t\t\t\tvar imgURL1 = 'https://assets.guim.co.uk/images/eada8aa27c12fe2d5afa3a89d3fbae0d/fallback-logo.png';\n\t\t\t\tif(imgArrLen1 > 0) {\n\t\t\t\t\timgURL1 = imgArr1[imgArrLen1-1].file;\n\t\t\t\t}\n\t\t\t\tvar reactAppPath = '/' + pageContent[i].pathId;\n\t\t\t\t/*page.push(\n\t\t\t\t\t<Route path={reactAppPath} exact>\n\t\t\t\t\t\t<NewsCard\n\t\t\t\t\t\t\tkey={i}\n\t\t\t\t\t\t\tkey1={i} \n\t\t\t\t\t\t\timg={imgURL1} \n\t\t\t\t\t\t\ttitle={pageContent[i].webTitle}\n\t\t\t\t\t\t\tdescription={pageContent[i].blocks.body[0].bodyTextSummary}\n\t\t\t\t\t\t\tdate={pageContent[i].webPublicationDate.substring(0,10)}\n\t\t\t\t\t\t\tsection={pageContent[i].sectionId}\n\t\t\t\t\t\t\tbuttonName={buttonName1}\n\t\t\t\t\t\t\tsource={this.props.source}\n\t\t\t\t\t\t\turl={pageContent[i].webUrl}\n\t\t\t\t\t\t\treactAppUrl={reactAppPath}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Route>\n\t\t\t\t);*/\n\t\t\t\tpage.push(\n\t\t\t\t\t<NewsCard\n\t\t\t\t\t\tkey={i}\n\t\t\t\t\t\tkey1={i} \n\t\t\t\t\t\timg={imgURL1} \n\t\t\t\t\t\ttitle={pageContent[i].webTitle}\n\t\t\t\t\t\tdescription={pageContent[i].blocks.body[0].bodyTextSummary}\n\t\t\t\t\t\tdate={pageContent[i].webPublicationDate.substring(0,10)}\n\t\t\t\t\t\tsection={pageContent[i].sectionId}\n\t\t\t\t\t\tbuttonName={buttonName1}\n\t\t\t\t\t\tsource={this.props.source}\n\t\t\t\t\t\turl={pageContent[i].webUrl}\n\t\t\t\t\t\treactAppUrl={reactAppPath}\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t\treturn page;\n\t}\n\n\trender() {\n\t\tconst {pageContent, isLoaded} = this.state;\n\t\twhile(!this.props.isLoaded || pageContent == null || this.props.isLoaded !== isLoaded) {\n\t\t\t//this.props.updatePageContent();\n\t\t\treturn (\n\t\t\t\t<div>\n\t\t\t\t<BounceLoader color='#243058'/>\n\t\t\t\t<div className='loading'>Loading</div>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\t\treturn(\n\t\t\t<div className='homePage'>\n\t\t\t\t{this.populatePage()}\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default HomePage;","import React, {Component} from 'react';\nimport commentBox from 'commentbox.io';\n\nclass CommentBox extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tid: this.props.id\n\t\t};\n\t}\n\tcomponentWillUnmount() {\n\t\tthis.removeCommentBox();\n\t}\n\tcomponentDidMount() {\n\t\tvar id = this.state.id;\n\t\tconsole.log(id);\n\t\tthis.removeCommentBox = commentBox('5675072811433984-proj', {\n\t\t\tcreateBoxUrl(boxId, pageLocation) {\n\t\t\t\tconsole.log(boxId);\n\t\t\t\tpageLocation.search = id; // removes query string!\n        \t\tpageLocation.hash = boxId;\n        \t\treturn id;\n    \t\t},\n\t\t});\n\t}\n\trender() {\n\t\treturn(<div className=\"commentbox\" id={this.state.id}/>);\n\t}\n}\n\nexport default CommentBox;","import React, {Component} from 'react';\nimport Card from 'react-bootstrap/Card';\nimport Tooltip from 'react-bootstrap/Tooltip';\nimport OverlayTrigger from 'react-bootstrap/OverlayTrigger'\nimport {MdBookmarkBorder, MdBookmark} from 'react-icons/md';\nimport {FaChevronDown, FaChevronUp} from 'react-icons/fa';\nimport\t{\n\t\t\tFacebookIcon, \n\t\t\tTwitterIcon, \n\t\t\tEmailIcon, \n\t\t\tFacebookShareButton, \n\t\t\tTwitterShareButton, \n\t\t\tEmailShareButton\n\t\t} \nfrom 'react-share';\nimport {toast, ToastContainer} from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport BounceLoader from 'react-spinners/BounceLoader';\nimport CommentBox from './commentbox.js';\n\nvar key = 0;\n\nclass DetailedPage extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tarticlePath: this.props.match.params.pathId,\n\t\t\tisLoaded: false,\n\t\t\tarticleData: {},\n\t\t\tcardLengthClass: 'card-truncated',\n\t\t\tdescriptionLengthClass: 'detailed-description-truncated',\n\t\t\tbutton: <FaChevronDown/>,\n\t\t\tbookmark: <MdBookmarkBorder/>,\n\t\t\tbookmarkStatus: false,\n\t\t\thost: this.props.host\n\t\t};\n\t\t//this.getArticleData = this.getArticleData.bind(this);\n\t\tthis.populatePage = this.populatePage.bind(this);\n\t\tthis.toggleArticleLength = this.toggleArticleLength.bind(this);\n\t\tthis.toggleBookmark = this.toggleBookmark.bind(this);\n\t\tthis.updateWhichPage = this.updateWhichPage.bind(this);\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.updateWhichPage();\n\t\tvar endpoint = this.state.host + 'detailedArticleInfo?id=' + this.state.articlePath;\n\t\tconsole.log(endpoint);\n\t\t//var data = {};\n\t\tfetch(endpoint)\n\t\t\t.then(res => res.json())\n\t\t\t.then(\n\t\t\t\t(result) => {\n\t\t\t\t\tfor(let i = 0; i < localStorage.length; i++) {\n\t\t\t\t\t\tif(localStorage.key(i) === this.state.articlePath) {\n\t\t\t\t\t\t\tconsole.log(localStorage.key(i));\n\t\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\t\tbookmark: <MdBookmark/>,\n\t\t\t\t\t\t\t\tbookmarkStatus: true\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tconsole.log(result);\n\t\t\t\t\tthis.setState({\n\t\t\t\t\t\tisLoaded: true,\n\t\t\t\t\t\tarticleData: result\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t);\n\t\t\n\t}\n\n\tupdateWhichPage() {\n\t\tthis.props.updateWhichPage();\n\t}\n\n\ttoggleArticleLength() {\n\t\tif(this.state.cardLengthClass === 'card-truncated') {\n\t\t\tthis.setState({\n\t\t\t\tcardLengthClass: 'card-long',\n\t\t\t\tdescriptionLengthClass: 'detailed-description-long',\n\t\t\t\tbutton: <FaChevronUp/>\n\t\t\t}, () => console.log('CHANGED TO CARD LONG'));\n\t\t}\n\t\telse {\n\t\t\tthis.setState({\n\t\t\t\tcardLengthClass: 'card-truncated',\n\t\t\t\tdescriptionLengthClass: 'detailed-description-truncated',\n\t\t\t\tbutton: <FaChevronDown/>\n\t\t\t});\n\t\t}\n\t}\n\n\ttoggleBookmark(data, source) {\n\t\tvar title = source === 'guardian' ? data.webTitle : data.headline.main;\n\t\tif(this.state.bookmarkStatus === false) {\n\t\t\tthis.setState({\n\t\t\t\tbookmark: <MdBookmark/>,\n\t\t\t\tbookmarkStatus: true\n\t\t\t}, () => toast(\"Saving \" + title));\n\t\t\tlocalStorage.setItem(this.state.articlePath, JSON.stringify({'data': data, 'source': source}));\n\t\t}\n\t\telse {\n\t\t\tthis.setState({\n\t\t\t\tbookmark: <MdBookmarkBorder/>,\n\t\t\t\tbookmarkStatus: false\n\t\t\t}, () => toast(\"Removing \" + title));\n\t\t\tlocalStorage.removeItem(this.state.articlePath);\n\t\t}\n\t}\n\n\tpopulatePage(articleData, source) {\n\t\t//while(this.state.articleData === {}) {\n\t\t//}\n\t\tvar page = [];\n\t\tvar title = '';\n\t\tvar date = '';\n\t\tvar imgArr = [];\n\t\tvar img = '';\n\t\tvar description = '';\n\t\tvar url = ''\n\t\tvar dateOptions = {year: 'numeric', month: 'long', day: 'numeric'};\n\t\tif(source === 'guardian') {\n\t\t\t//console.log('HELLO');\n\t\t\t//console.log(articleData, source);\n\t\t\ttitle = articleData.webTitle;\n\t\t\tdate = new Date(Date.parse(articleData.webPublicationDate));\n\t\t\timgArr = articleData.blocks.main ? articleData.blocks.main.elements[0].assets : [];\n\t\t\timg = 'https://assets.guim.co.uk/images/eada8aa27c12fe2d5afa3a89d3fbae0d/fallback-logo.png';\n\t\t\turl = articleData.webUrl;\n\t\t\tconsole.log(url);\n\t\t\tif(imgArr.length > 0) {\n\t\t\t\timg = imgArr[imgArr.length - 1].file;\n\t\t\t}\n\t\t\tdescription = articleData.blocks.body[0].bodyHtml;\n\t\t\tpage.push(<Card.Title key='1'>{title}</Card.Title>);\n\t\t\tpage.push(<Card.Body key='2'>\n\t\t\t\t\t\t\t<div className='detailedCardHeader'>\n\t\t\t\t\t\t\t\t<p>{date.toLocaleDateString(\"en-US\", dateOptions)}</p>\n\t\t\t\t\t\t\t\t<div className='socialIcons'>\n\t\t\t\t\t\t\t\t\t<OverlayTrigger\n\t\t\t\t\t\t\t\t        key='emailTooltip'\n\t\t\t\t\t\t\t\t        placement='top'\n\t\t\t\t\t\t\t\t        overlay={\n\t\t\t\t\t\t\t\t          <Tooltip id='tooltip-top'>\n\t\t\t\t\t\t\t\t            Email\n\t\t\t\t\t\t\t\t          </Tooltip>\n\t\t\t\t\t\t\t\t        }\n\t\t\t\t\t\t\t\t    >\n\t\t\t\t\t\t\t\t\t\t<EmailShareButton url={url} subject='#CSCI_571_NewsApp'><EmailIcon size={18} round={true}/></EmailShareButton>\n\t\t\t\t\t\t\t\t\t</OverlayTrigger>\n\t\t\t\t\t\t\t\t\t<OverlayTrigger\n\t\t\t\t\t\t\t\t        key='twitterTooltip'\n\t\t\t\t\t\t\t\t        placement='top'\n\t\t\t\t\t\t\t\t        overlay={\n\t\t\t\t\t\t\t\t          <Tooltip id='tooltip-top'>\n\t\t\t\t\t\t\t\t            Twitter\n\t\t\t\t\t\t\t\t          </Tooltip>\n\t\t\t\t\t\t\t\t        }\n\t\t\t\t\t\t\t\t    >\n\t\t\t\t\t\t\t\t\t\t<TwitterShareButton url={url} hashtags={['CSCI_571_NewsApp']}><TwitterIcon size={18} round={true}/></TwitterShareButton>\n\t\t\t\t\t\t\t\t\t</OverlayTrigger>\n\t\t\t\t\t\t\t\t\t<OverlayTrigger\n\t\t\t\t\t\t\t\t        key='fbTooltip'\n\t\t\t\t\t\t\t\t        placement='top'\n\t\t\t\t\t\t\t\t        overlay={\n\t\t\t\t\t\t\t\t          <Tooltip id='tooltip-top'>\n\t\t\t\t\t\t\t\t            Facebook\n\t\t\t\t\t\t\t\t          </Tooltip>\n\t\t\t\t\t\t\t\t        }\n\t\t\t\t\t\t\t\t    >\n\t\t\t\t\t\t\t\t\t\t<FacebookShareButton url={url} hashtag='#CSCI_571_NewsApp'><FacebookIcon size={18} round={true}/></FacebookShareButton>\n\t\t\t\t\t\t\t\t\t</OverlayTrigger>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className='bookmark'>\n\t\t\t\t\t\t\t\t\t<OverlayTrigger\n\t\t\t\t\t\t\t\t        key='bookmarkTooltip'\n\t\t\t\t\t\t\t\t        placement='top'\n\t\t\t\t\t\t\t\t        overlay={\n\t\t\t\t\t\t\t\t          <Tooltip id='tooltip-top'>\n\t\t\t\t\t\t\t\t            Bookmark\n\t\t\t\t\t\t\t\t          </Tooltip>\n\t\t\t\t\t\t\t\t        }\n\t\t\t\t\t\t\t\t    >\n\t\t\t\t\t\t\t\t\t\t<button onClick={() => this.toggleBookmark(articleData, source)}>{this.state.bookmark}</button>\n\t\t\t\t\t\t\t\t\t</OverlayTrigger>\n\t\t\t\t\t\t\t\t\t<ToastContainer hideProgressBar={true} autoClose={1500} animation='fade' position='top-center'/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className='img-and-details'>\n\t\t\t\t\t\t\t\t<div className='card-image'>\n\t\t\t\t\t\t\t\t\t<img src={img} alt=''/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className={this.state.descriptionLengthClass} \n\t\t\t\t\t\t\t\t\tdangerouslySetInnerHTML={{ __html: description }} />\n\t\t\t\t\t\t\t\t<button className='detailedArticleButton' onClick={() => this.toggleArticleLength()}>{this.state.button}</button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</Card.Body>);\n\t\t\tkey++;\n\t\t\treturn page;\n\t\t}\n\t\telse {\n\t\t\tarticleData = articleData[0];\n\t\t\ttitle = articleData.headline.main;\n\t\t\tdate = new Date(Date.parse(articleData.pub_date));\n\t\t\timgArr = articleData.multimedia;\n\t\t\timg = 'https://upload.wikimedia.org/wikipedia/commons/0/0e/Nytimes_hq.jpg';\n\t\t\tfor(let i = 0; i < imgArr.length; i++) {\n\t\t\t\tif(imgArr[i].width >= 2000) {\n\t\t\t\t\timg = 'https://nytimes.com/' + imgArr[i].url;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tdescription = articleData.abstract;\n\t\t\turl = articleData.web_url;\n\t\t\tpage.push(<Card.Title>{title}</Card.Title>);\n\t\t\t//<button className='detailedArticleButton' onClick={() => this.toggleArticleLength()}>{this.state.button}</button>\n\t\t\tpage.push(<Card.Body>\n\t\t\t\t\t\t\t<div className='detailedCardHeader'>\n\t\t\t\t\t\t\t\t<p>{date.toLocaleDateString(\"en-US\", dateOptions)}</p>\n\t\t\t\t\t\t\t\t<div className='socialIcons'>\n\t\t\t\t\t\t\t\t\t<OverlayTrigger\n\t\t\t\t\t\t\t\t        key='emailTooltip'\n\t\t\t\t\t\t\t\t        placement='top'\n\t\t\t\t\t\t\t\t        overlay={\n\t\t\t\t\t\t\t\t          <Tooltip id='tooltip-top'>\n\t\t\t\t\t\t\t\t            Email\n\t\t\t\t\t\t\t\t          </Tooltip>\n\t\t\t\t\t\t\t\t        }\n\t\t\t\t\t\t\t\t    >\n\t\t\t\t\t\t\t\t\t\t<EmailShareButton url={url} subject='#CSCI_571_NewsApp'><EmailIcon size={18} round={true}/></EmailShareButton>\n\t\t\t\t\t\t\t\t\t</OverlayTrigger>\n\t\t\t\t\t\t\t\t\t<OverlayTrigger\n\t\t\t\t\t\t\t\t        key='twitterTooltip'\n\t\t\t\t\t\t\t\t        placement='top'\n\t\t\t\t\t\t\t\t        overlay={\n\t\t\t\t\t\t\t\t          <Tooltip id='tooltip-top'>\n\t\t\t\t\t\t\t\t            Twitter\n\t\t\t\t\t\t\t\t          </Tooltip>\n\t\t\t\t\t\t\t\t        }\n\t\t\t\t\t\t\t\t    >\n\t\t\t\t\t\t\t\t\t\t<TwitterShareButton url={url} hashtags={['CSCI_571_NewsApp']}><TwitterIcon size={18} round={true}/></TwitterShareButton>\n\t\t\t\t\t\t\t\t\t</OverlayTrigger>\n\t\t\t\t\t\t\t\t\t<OverlayTrigger\n\t\t\t\t\t\t\t\t        key='fbTooltip'\n\t\t\t\t\t\t\t\t        placement='top'\n\t\t\t\t\t\t\t\t        overlay={\n\t\t\t\t\t\t\t\t          <Tooltip id='tooltip-top'>\n\t\t\t\t\t\t\t\t            Facebook\n\t\t\t\t\t\t\t\t          </Tooltip>\n\t\t\t\t\t\t\t\t        }\n\t\t\t\t\t\t\t\t    >\n\t\t\t\t\t\t\t\t\t\t<FacebookShareButton url={url} hashtag='#CSCI_571_NewsApp'><FacebookIcon size={18} round={true}/></FacebookShareButton>\n\t\t\t\t\t\t\t\t\t</OverlayTrigger>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className='bookmark'>\n\t\t\t\t\t\t\t\t\t<OverlayTrigger\n\t\t\t\t\t\t\t\t        key='bookmarkTooltip'\n\t\t\t\t\t\t\t\t        placement='top'\n\t\t\t\t\t\t\t\t        overlay={\n\t\t\t\t\t\t\t\t          <Tooltip id='tooltip-top'>\n\t\t\t\t\t\t\t\t            Bookmark\n\t\t\t\t\t\t\t\t          </Tooltip>\n\t\t\t\t\t\t\t\t        }\n\t\t\t\t\t\t\t\t    >\n\t\t\t\t\t\t\t\t\t\t<button onClick={() => this.toggleBookmark(articleData, source)}>{this.state.bookmark}</button>\n\t\t\t\t\t\t\t\t\t</OverlayTrigger>\n\t\t\t\t\t\t\t\t\t<ToastContainer hideProgressBar={true} autoClose={1500} position='top-center' animation='fade'/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className='img-and-details'>\n\t\t\t\t\t\t\t\t<div className='card-image'>\n\t\t\t\t\t\t\t\t\t<img src={img}/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className={this.state.descriptionLengthClass} \n\t\t\t\t\t\t\t\t\tdangerouslySetInnerHTML={{ __html: description }} />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</Card.Body>);\n\t\t\tconsole.log(articleData);\n\t\t\treturn page;\n\t\t}\n\t}\n\n\n\trender() {\n\t\twhile(!this.state.isLoaded) {\n\t\t\treturn (\n\t\t\t\t<div>\n\t\t\t\t\t<BounceLoader color='#243058'/>\n\t\t\t\t\t<div className='loading'>Loading</div>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\t\tconst {articlePath, cardLengthClass, articleData} = this.state;\n\t\tvar data = articleData;\n\t\tconsole.log(data);\n\t\tvar source = data.webUrl ? 'guardian' : 'nyt';\n\t\treturn(\n\t\t\t<div>\n\t\t\t<div className='detailedPage'>\n\t\t\t\t<Card key={articlePath} className={cardLengthClass}>\n\t\t\t\t\t{this.populatePage(data, source)}\n\t\t\t\t</Card>\n\t\t\t\t<CommentBox id={this.state.articlePath}/>\n\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t\t\n\t}\n}\n\nexport default DetailedPage;","import React, {Component} from 'react';\nimport Card from 'react-bootstrap/Card';\nimport NewsCard from './newscard.js';\nimport {toast, ToastContainer} from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport BounceLoader from 'react-spinners/BounceLoader';\nvar nytSections = new Set(['world', 'politics', 'business', 'technology', 'sports']);\nvar guardianSections = new Set(['world', 'politics', 'business', 'technology', 'sport']);\n\nclass BookmarkPage extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tvar ls = [];\n\t\tfor(let i = 0; i < localStorage.length; i++) {\n\t\t\tls.push(localStorage.key(i));\n\t\t}\n\t\tthis.state = {\n\t\t\tlocalStorage: ls,\n\t\t\tcards: [],\n\t\t\tcardIds: [],\n\t\t\tisLoaded: false\n\t\t};\n\t\tthis.renderBookmarkCards = this.renderBookmarkCards.bind(this);\n\t\tthis.updateLocalStorage = this.updateLocalStorage.bind(this);\n\t\tthis.updateWhichPage = this.updateWhichPage.bind(this);\n\t}\n\n\tupdateWhichPage() {\n\t\tthis.props.updateWhichPage('bookmark');\n\t}\n\n\tupdateLocalStorage(id) {\n\t\tconsole.log('updating local storage...');\n\t\tvar ls = [];\n\t\tvar title = '';\n\t\tvar data = JSON.parse(localStorage.getItem(id));\n\t\tif(data.source === 'nyt') {\n\t\t\tconsole.log(data);\n\t\t\ttitle = data.data.headline.main;\n\t\t}\n\t\telse {\n\t\t\ttitle = data.data.webTitle;\n\t\t}\n\t\tlocalStorage.removeItem(id);\n\t\tvar cards = this.state.cards;\n\t\tvar cardIds = this.state.cardIds;\n\t\tfor(let i = 0; i < this.state.cardIds.length; i++) {\n\t\t\tif(this.state.cardIds[i] === id) {\n\t\t\t\tcards.splice(i,1);\n\t\t\t\tcardIds.splice(i,1);\n\t\t\t}\n\t\t}\n\t\t//console.log('REMOVING ID', id);\n\t\tfor(let i = 0; i < localStorage.length; i++) {\n\t\t\tls.push(localStorage.key(i));\n\t\t\t//console.log(localStorage.key(i));\n\t\t}\n\t\t//await this.renderBookmarkCards();\n\t\t\n\t\tthis.setState({\n\t\t\tlocalStorage: ls,\n\t\t\tcards: cards,\n\t\t\tcardIds: cardIds\n\t\t}, () => {\n\t\t\ttoast(\"Removing \" + title);\n\t\t});\n\t\t/*this.setState({\n\t\t\tlocalStorage: ls\n\t\t}, () => {\n\t\t\tthis.renderBookmarkCards(); \n\t\t});*/\n\t\treturn;\n\t}\n\n\trenderBookmarkCards() {\n\t\tvar cards = [];\n\t\tvar cardIds = [];\n\t\tvar ls = this.state.localStorage;\n\t\tfor(let i = 0; i < localStorage.length; i++) {\n\t\t\tconsole.log('render bookmark cards', localStorage.key(i));\n\t\t\tvar data = JSON.parse(localStorage.getItem(localStorage.key(i)));\n\t\t\tvar source = data.source;\n\t\t\tdata = data.data;\n\t\t\tvar img = '';\n\t\t\tvar url = '';\n\t\t\tvar title = '';\n\t\t\tvar appPath = '/' + localStorage.key(i);\n\t\t\tvar description = '';\n\t\t\tvar date = '';\n\t\t\tvar section = '';\n\t\t\tvar buttonName = [];\n\t\t\tconsole.log('BOOKMARKED', data);\n\t\t\tif(source === 'nyt') {\n\t\t\t\tvar imgArr = data.multimedia;\n\t\t\t\timg = 'https://upload.wikimedia.org/wikipedia/commons/0/0e/Nytimes_hq.jpg';\n\t\t\t\tif(imgArr !== null) {\n\t\t\t\t\tfor(let j = 0; j < imgArr.length; j++) {\n\t\t\t\t\t\tif(imgArr[j].width >= 2000) {\n\t\t\t\t\t\t\timg = 'http://nytimes.com/' + imgArr[j].url;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tconsole.log(data);\n\t\t\t\ttitle = data.headline.main;\n\t\t\t\tsection = ['NYTimes', data.section_name];\n\t\t\t\tdate = data.pub_date.substring(0,10);\n\t\t\t\turl = data.web_url;\n\t\t\t\t//console.log(url);\n\t\t\t\tdescription = data.abstract;\n\t\t\t\tbuttonName.push('nyt-button');\n\t\t\t\tif(nytSections.has(section[1].toLowerCase())) {\n\t\t\t\t\tbuttonName.push(section + '-button');\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tbuttonName.push('other-button')\n\t\t\t\t}\n\t\t\t\tcardIds.push(appPath.substr(1));\n\t\t\t\t\n\t\t\t\tcards.push(\n\t\t\t\t\t<NewsCard \n\t\t\t\t\t\tkey={i} \n\t\t\t\t\t\tkey1={i} \n\t\t\t\t\t\timg={img} \n\t\t\t\t\t\ttitle={title}\n\t\t\t\t\t\tdescription={description}\n\t\t\t\t\t\tdate={date}\n\t\t\t\t\t\tsection={section}\n\t\t\t\t\t\tbuttonName={buttonName}\n\t\t\t\t\t\tsource='nyt'\n\t\t\t\t\t\turl={url} \n\t\t\t\t\t\treactAppUrl={appPath}\n\t\t\t\t\t\tclassName='bookmarkCard'\n\t\t\t\t\t\tremoveBookmarkProps={this.updateLocalStorage}\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tvar imgArr1 = data.blocks.main ? data.blocks.main.elements[0].assets : [];\n\t\t\t\tvar imgArrLen1 = imgArr1.length;\n\t\t\t\timg = 'https://assets.guim.co.uk/images/eada8aa27c12fe2d5afa3a89d3fbae0d/fallback-logo.png';\n\t\t\t\tif(imgArrLen1 > 0) {\n\t\t\t\t\timg = imgArr1[imgArrLen1-1].file;\n\t\t\t\t}\n\t\t\t\tsection = data.sectionId;\n\t\t\t\tdescription = data.blocks.body[0].bodyTextSummary;\n\t\t\t\tdate = data.webPublicationDate.substring(0,10);\n\t\t\t\ttitle = data.webTitle;\n\t\t\t\tsource = 'guardian';\n\t\t\t\turl = data.webUrl;\n\t\t\t\tbuttonName.push('guardian-button');\n\t\t\t\tif(guardianSections.has(section.toLowerCase())) {\n\t\t\t\t\tbuttonName.push(section + '-button');\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tbuttonName.push('other-button')\n\t\t\t\t}\n\t\t\t\tcardIds.push(appPath.substr(1));\n\t\t\t\tcards.push(\n\t\t\t\t\t<NewsCard \n\t\t\t\t\t\tkey={i} \n\t\t\t\t\t\tkey1={i} \n\t\t\t\t\t\timg={img} \n\t\t\t\t\t\ttitle={title}\n\t\t\t\t\t\tdescription={description}\n\t\t\t\t\t\tdate={date}\n\t\t\t\t\t\tsection={['Guardian', section]}\n\t\t\t\t\t\tsource='guardian'\n\t\t\t\t\t\turl={url} \n\t\t\t\t\t\tbuttonName={buttonName}\n\t\t\t\t\t\treactAppUrl={appPath}\n\t\t\t\t\t\tclassName='bookmarkCard'\n\t\t\t\t\t\tremoveBookmarkProps={this.updateLocalStorage}\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t\tthis.setState({\n\t\t\tcards: cards,\n\t\t\tcardIds: cardIds,\n\t\t\tisLoaded: false\n\t\t}, () => {this.setState({isLoaded: true});});\n\t\treturn;\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.updateWhichPage();\n\t\treturn this.renderBookmarkCards();\n\t}\n\n\trender() {\n\t\tconst {cards, isLoaded} = this.state;\n\t\twhile(!isLoaded) {\n\t\t\treturn (\n\t\t\t\t<div>\n\t\t\t\t\t<BounceLoader color='#243058'/>\n\t\t\t\t\t<div className='loading'>Loading</div>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\t\treturn(\n\t\t\t<div className='bookmarkPageHeader'>\n\t\t\t\t<h2>Favorites</h2>\n\t\t\t\t<ToastContainer hideProgressBar={true} autoClose={1500} animation='fade' position=\"top-center\"/>\n\t\t\t\t<div className='bookmarkCards'>{cards}</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default BookmarkPage;","import React, {Component} from 'react';\nimport Card from 'react-bootstrap/Card';\nimport NewsCard from './newscard.js';\nimport BounceLoader from 'react-spinners/BounceLoader';\n\nvar nytSections = new Set(['world', 'politics', 'business', 'technology', 'sports']);\nvar guardianSections = new Set(['world', 'politics', 'business', 'technology', 'sport']);\n\nclass SearchPage extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tquery: this.props.match.params.query,\n\t\t\thost: this.props.host,\n\t\t\tnytData: [],\n\t\t\tguardianData: [],\n\t\t\tcards: [],\n\t\t\tisLoaded: false\n\t\t};\n\t\tthis.renderSearchCards = this.renderSearchCards.bind(this);\n\t\tthis.updateWhichPage = this.updateWhichPage.bind(this);\n\t}\n\n\trenderSearchCards() {\n\t\tvar nyt = this.state.nytData;\n\t\tvar guardian = this.state.guardianData;\n\n\t\tvar img = '';\n\t\tvar url = '';\n\t\tvar title = '';\n\t\tvar appPath = '';\n\t\tvar description = '';\n\t\tvar date = '';\n\t\tvar section = '';\n\t\tvar buttonName = '';\n\n\t\tvar cards = [];\n\t\tfor(let i = 0; i < nyt.length; i++) {\n\t\t\ttitle = nyt[i].headline.main;\n\t\t\tsection = nyt[i].news_desk;\n\t\t\tif(section === '' || section === null || !section) {\n\t\t\t\tsection = 'none';\n\t\t\t}\n\t\t\tdate = nyt[i].pub_date.substring(0,10);\n\t\t\timg = 'https://upload.wikimedia.org/wikipedia/commons/0/0e/Nytimes_hq.jpg';\n\t\t\tfor(let j = 0; j < nyt[i].multimedia.length; j++) {\n\t\t\t\tvar media = nyt[i].multimedia;\n\t\t\t\tif(media[j].width >= 2000) {\n\t\t\t\t\timg = 'http://nytimes.com/' + media[j].url;\n\t\t\t\t}\n\t\t\t}\n\t\t\turl = nyt[i].web_url;\n\t\t\tappPath = nyt[i].pathId;\n\t\t\tbuttonName = 'other-button';\n\t\t\tif(nytSections.has(section.toLowerCase())) {\n\t\t\t\tbuttonName = section + '-button';\n\t\t\t}\n\t\t\tcards.push(\n\t\t\t\t<NewsCard \n\t\t\t\t\tkey={i*2} \n\t\t\t\t\tkey1={i*2} \n\t\t\t\t\timg={img} \n\t\t\t\t\ttitle={title}\n\t\t\t\t\tdescription={description}\n\t\t\t\t\tdate={date}\n\t\t\t\t\tsection={section}\n\t\t\t\t\tbuttonName={buttonName}\n\t\t\t\t\tsource='nyt'\n\t\t\t\t\turl={url} \n\t\t\t\t\treactAppUrl={appPath}\n\t\t\t\t\tclassName='searchResultCard'\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\n\t\tfor(let i = 0; i < guardian.length; i++) {\n\t\t\ttitle = guardian[i].webTitle;\n\t\t\tsection = guardian[i].sectionId;\n\t\t\tif(section === '') {\n\t\t\t\tsection = 'none';\n\t\t\t}\n\t\t\tdate = guardian[i].webPublicationDate.substring(0, 10);\n\t\t\turl = guardian[i].webUrl;\n\t\t\tappPath = guardian[i].pathId;\n\t\t\tbuttonName = 'other-button';\n\t\t\tif(guardianSections.has(section.toLowerCase())) {\n\t\t\t\tbuttonName = section + '-button';\n\t\t\t}\n\t\t\timg = 'https://assets.guim.co.uk/images/eada8aa27c12fe2d5afa3a89d3fbae0d/fallback-logo.png';\n\t\t\tvar imgArr1 = guardian[i].blocks.main ? guardian[i].blocks.main.elements[0].assets : [];\n\t\t\tvar imgArrLen1 = imgArr1.length;\n\t\t\tif(imgArrLen1 > 0) {\n\t\t\t\timg = imgArr1[imgArrLen1-1].file;\n\t\t\t}\n\t\t\tcards.push(\n\t\t\t\t<NewsCard \n\t\t\t\t\tkey={i*2+1} \n\t\t\t\t\tkey1={i*2+1} \n\t\t\t\t\timg={img} \n\t\t\t\t\ttitle={title}\n\t\t\t\t\tdescription={description}\n\t\t\t\t\tdate={date}\n\t\t\t\t\tsection={section}\n\t\t\t\t\tbuttonName={buttonName}\n\t\t\t\t\tsource='guardian'\n\t\t\t\t\turl={url} \n\t\t\t\t\treactAppUrl={appPath}\n\t\t\t\t\tclassName='searchResultCard'\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\t\t//Object.assign(this.state, { cards: cards });\n\t\tthis.setState({\n\t\t\tcards: cards,\n\t\t\tisLoaded: true\n\t\t}, () => console.log(this.state.cards));\n\t\treturn;\n\t}\n\n\tupdateWhichPage() {\n\t\tthis.props.updateWhichPage('search');\n\t}\n\n\tcomponentDidUpdate(props) {\n\t\tif(this.props.match.params.query !== props.match.params.query) {\n\t\t\t//console.log(this.props.match.params.query, props.match.params.query);\n\t\t\tthis.setState({\n\t\t\t\tquery: this.props.match.params.query,\n\t\t\t\tisLoaded: false\n\t\t\t}, () => {\n\t\t\t\tvar endpoint = this.state.host + 'searchResults?query=' + this.props.match.params.query;\n\t\t\t\tvar data = {};\n\t\t\t\tfetch(endpoint)\n\t\t\t\t\t.then(res => res.json())\n\t\t\t\t\t.then(\n\t\t\t\t\t\t(result) => {\n\t\t\t\t\t\t\t//console.log(result);\n\t\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\t\tnytData: result.nytData,\n\t\t\t\t\t\t\t\tguardianData: result.guardianData\n\t\t\t\t\t\t\t}, () => this.renderSearchCards());\n\t\t\t\t\t\t}\n\t\t\t\t\t);\n\t\t\t\t}\t\n\t\t\t);\n\t\t}\n\t\t/*, */\n\t\t\n\t\t//return this.renderSearchCards();\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.updateWhichPage();\n\t\tvar endpoint = this.state.host + 'searchResults?query=' + this.state.query;\n\t\tvar data = {};\n\t\tfetch(endpoint)\n\t\t\t.then(res => res.json())\n\t\t\t.then(\n\t\t\t\t(result) => {\n\t\t\t\t\t//console.log(result);\n\t\t\t\t\tthis.setState({\n\t\t\t\t\t\tnytData: result.nytData,\n\t\t\t\t\t\tguardianData: result.guardianData\n\t\t\t\t\t}, () => this.renderSearchCards());\n\t\t\t\t}\n\t\t\t);\n\t\treturn;\n\t}\n\n\trender() {\n\t\tconst {query, host, cards, isLoaded} = this.state;\n\t\t//console.log(query);\n\t\t//console.log(host)\n\t\twhile(!isLoaded) {\n\t\t\treturn (\n\t\t\t\t<div>\n\t\t\t\t<BounceLoader color='#243058'/>\n\t\t\t\t<div className='loading'>Loading</div>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\t\treturn(\n\t\t\t<div className='searchPageResults'>\n\t\t\t\t<h2>Results</h2>\n\t\t\t\t<div className='searchResultCards'>\n\t\t\t\t\t{cards}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default SearchPage;","import React, {Component} from 'react';\n//import logo from './logo.svg';\nimport './App.css';\nimport NavbarIdx from './navbar';\nimport HomePage from './homepage';\nimport {Route, Switch, BrowserRouter} from 'react-router-dom';\nimport DetailedPage from './detailedpage.js';\nimport BookmarkPage from './bookmarkpage.js';\nimport SearchPage from './searchpage.js';\n\nvar dKey = 0;\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      whichPage: 'home/',\n      source: 'guardian',\n      isLoaded: false, \n      pageContent: [],\n      apiHost: 'http://kxue-nodejs.us-east-1.elasticbeanstalk.com/',\n      routes: []\n    };\n    this.updateNewsSource = this.updateNewsSource.bind(this);\n    this.updatePageContent = this.updatePageContent.bind(this);\n    this.renderPage = this.renderPage.bind(this);\n    this.updateWhichPage = this.updateWhichPage.bind(this);\n    this.populateArticleUrls = this.populateArticleUrls.bind(this);\n    this.getPageContentForComponent = this.getPageContentForComponent.bind(this);\n    this.validateSwitchedPages = this.validateSwitchedPages.bind(this);\n    this.updateNonHomePage = this.updateNonHomePage.bind(this);\n  }\n\n  updateWhichPage(pg) {\n    if(this.state.source === 'guardian' && pg === 'sports/') {\n      pg = 'sport/';\n    }\n    else if(this.state.source === 'nyt' && pg === 'sport/') {\n      pg = 'sports/';\n    }\n    var apiHost = this.state.apiHost + pg;\n    this.setState({\n      isLoaded: false\n    });\n    fetch(apiHost + this.state.source)\n      .then(res => res.json())\n      .then(\n        (result) => {\n          this.setState({\n            whichPage: pg,\n            pageContent: result.results,\n            isLoaded: false\n          }, () => \n            this.validateSwitchedPages(pg, result.results)\n          );\n        }\n      );\n  }\n\n  updateNonHomePage(pg) {\n    this.setState({\n      whichPage: pg\n    }, () => {console.log(this.state.whichPage)});\n  }\n\n  validateSwitchedPages(pg, results) {\n    console.log('in validate switched pages');\n    while(this.state.whichPage !== pg || this.state.pageContent !== results) {\n    }\n    this.setState({\n      whichPage: pg,\n      pageContent: results,\n      isLoaded: true\n    }, () => console.log('DONE'));\n  } \n\n\n  updateNewsSource(src) {\n    var newSource = src === 'nyt' ? 'guardian' : 'nyt';\n    var wPage = this.state.whichPage;\n    if(newSource === 'guardian' && wPage === 'sports/') {\n      wPage = 'sport/';\n    }\n    else if(newSource === 'nyt' && wPage === 'sport/') {\n      wPage = 'sports/';\n    }\n    var apiHost = this.state.apiHost + wPage;\n    this.setState({\n      isLoaded: false\n    });\n    fetch(apiHost + newSource)\n      .then(res => res.json())\n      .then(\n        (result) => {\n          console.log(result);\n          this.setState({\n            pageContent: result.results,\n            isLoaded: true,\n            source: newSource,\n            whichPage: wPage\n          });\n        }\n      );\n  }\n\n  populateArticleUrls() {\n    let routes = [];\n    /*fetch(this.state.apiHost + 'getAllDetailedArticlePaths')\n      .then(res =>res.json())\n      .then(\n        (result) => {\n          for(let i = 0; i < result.data.length; i++) {\n            routes.push(<Route exact path={'/detailedPage/' + result.data[i]} \n                                render={\n                                  (props) => \n                                  <DetailedPage \n                                    articlePath={result.data[i]}\n                                    host={this.state.apiHost}\n                                  />\n                                }\n                          />);\n          }\n        }\n      );*/\n    const pages = ['home', 'world', 'politics', 'technology', 'business', 'sports'];\n    for(let i = 0; i < pages.length; i++) {\n      //var pgContent = this.getPageContentForComponent(this.state.source, pages[i]); \n      //console.log(this.state.source);\n      routes.push(\n        <Route exact path={'/' + pages[i]}\n            key = {dKey}\n            render={\n              (props) => \n                <HomePage {...props}\n                  source={this.state.source}\n                  whichPage={pages[i]}\n                  isLoaded={this.state.isLoaded}\n                  pageContent={this.state.pageContent}\n                  updatePageContent={this.updatePageContent}\n                />\n            }\n        />\n      );\n      dKey++;\n    }\n    //push bookmarks page route\n    routes.push(\n      <Route exact path='/bookmarks'\n        key={dKey}\n        render={\n              (props) => \n                <BookmarkPage {...props}\n                  updateWhichPage={this.updateNonHomePage}\n                />\n            }\n      />\n    );\n    dKey++;\n    //push search results page route\n    routes.push(\n      <Route exact path='/search/:query' \n        key={dKey}\n        render={\n          (props) => \n          <SearchPage {...props} \n            host={this.state.apiHost}\n            updateWhichPage={this.updateNonHomePage}\n          />\n        }\n      />\n    );\n    routes.push(\n      <Route exact path={'/:pathId'}\n            key={dKey}\n            render={\n              (props) =>\n              <DetailedPage {...props}\n                host={this.state.apiHost}\n                updateWhichPage={this.updateNonHomePage}\n              />\n            }\n      />);\n    dKey++;\n    this.setState({\n      routes: routes\n    });\n    return;\n  }\n\n  updatePageContent() {\n    //console.log('called update page content');\n    var apiHost = this.state.apiHost + this.state.whichPage;\n    fetch(apiHost + this.state.source)\n      .then(res => res.json())\n      .then(\n        (result) => {\n          this.setState({\n            pageContent: result.results,\n            isLoaded: true\n          });\n        }\n      );\n  }\n\n  getPageContentForComponent(source, section) {\n    var apiHost = this.state.apiHost + section + '/';\n    var ans = [];\n    fetch(apiHost + source)\n      .then(res => res.json())\n      .then(\n        (result) => {\n          ans = result.results;\n          console.log(ans);\n        });\n    return ans;\n  }\n\n  renderPage() {\n    return(<HomePage source={this.state.source} isLoaded={this.state.isLoaded} pageContent={this.state.pageContent} updatePageContent={this.updatePageContent}/>);\n  }\n\n  componentDidMount() {\n    this.populateArticleUrls();\n  }\n\n  render() {\n    const {routes} = this.state;\n    return (\n      <div id='App'>\n      <BrowserRouter>\n        <NavbarIdx \n          source={this.state.source} \n          updateNewsSource={this.updateNewsSource} \n          whichPage={this.state.whichPage} \n          updateWhichPage={this.updateWhichPage} \n        />\n        <Switch>\n        {routes}\n        </Switch>\n      </BrowserRouter>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n//import {BrowserRouter, Route, Switch} from 'react-router-dom';\n//import DetailedPage from './detailedpage.js';\n\n//const apiHost = 'http://localhost:8080/';\n\n/*function populateArticleUrls() {\n\tlet routes = [];\n\tfetch(apiHost + 'getAllDetailedArticlePaths')\n\t  .then(res =>res.json())\n\t  .then(\n\t    (result) => {\n\t      for(let i = 0; i < result.data.length; i++) {\n\t        routes.push(<Route exact path={'/' + result.data[i]} component={DetailedPage}/>);\n\t      }\n\t    }\n\t  );\n  \tconsole.log(routes);\n\treturn routes;\n}*/\n\nReactDOM.render(\n\t<App/>, \n\tdocument.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}